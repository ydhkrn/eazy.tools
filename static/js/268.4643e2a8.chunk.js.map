{"version":3,"file":"static/js/268.4643e2a8.chunk.js","mappings":"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","sources":["pages/tools/money/chit/components/ChitInput.tsx","pages/tools/money/chit/components/ChitOutput.tsx","pages/tools/money/chit/components/Deposits.tsx","pages/tools/money/chit/constants.ts","pages/tools/money/chit/helpers.ts","pages/tools/money/chit/hooks.ts","pages/tools/money/chit/index.tsx","pages/tools/money/chit/types.ts","shared/helpers/number.ts","pages/tools/money/chit/styles.scss"],"sourcesContent":["import React from \"react\";\nimport { toHTMLElementID } from \"shared/helpers/string\";\nimport { textsChit } from \"../constants\";\nimport \"../styles.scss\";\nimport { E_ChitActionType, T_ChitInput, T_ChitInputActionType } from \"../types\";\n\nexport default function ChitInput({\n  onInputChange,\n  values\n}: {\n  onInputChange: (\n    event: React.ChangeEvent<HTMLInputElement>,\n    actionType: T_ChitInputActionType\n  ) => void;\n  values: T_ChitInput;\n}) {\n  return (\n    <form className=\"chit-input-form\">\n      {[\n        {\n          text: textsChit.monthlyPaymentAmount,\n          id: toHTMLElementID(textsChit.monthlyPaymentAmount),\n          actionType: E_ChitActionType.inputMonthlyPaymentAmount,\n          value: values.monthlyPaymentAmount\n        },\n        {\n          text: textsChit.duration,\n          id: toHTMLElementID(textsChit.duration),\n          actionType: E_ChitActionType.inputDuration,\n          value: values.duration\n        },\n        {\n          text: textsChit.noOfPaymentsSoFar,\n          id: toHTMLElementID(textsChit.noOfPaymentsSoFar),\n          actionType: E_ChitActionType.inputNoOfPaymentsSoFar,\n          value: values.noOfPaymentsSoFar\n        },\n        {\n          text: textsChit.lastPaymentAmount,\n          id: toHTMLElementID(textsChit.lastPaymentAmount),\n          actionType: E_ChitActionType.inputLastPaymentAmount,\n          value: values.lastPaymentAmount\n        },\n        {\n          text: textsChit.agencyCommissionPercent,\n          id: toHTMLElementID(textsChit.agencyCommissionPercent),\n          actionType: E_ChitActionType.inputAgencyCommissionPercent,\n          value: values.agencyCommissionPercent\n        },\n        {\n          text: textsChit.yourAuctionAmount,\n          id: toHTMLElementID(textsChit.yourAuctionAmount),\n          actionType: E_ChitActionType.inputYourAuctionAmount,\n          value: values.yourAuctionAmount\n        }\n      ].map(({ value, text, id, actionType }) => (\n        <fieldset key={id}>\n          <label htmlFor={id}>{text}</label>\n          <input\n            type=\"text\"\n            id={id}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              onInputChange(event, actionType as T_ChitInputActionType);\n            }}\n            value={value}\n          />\n        </fieldset>\n      ))}\n    </form>\n  );\n}\n","import React from \"react\";\nimport { T_StringOrNumber } from \"shared/types/common\";\nimport { textsChit } from \"../constants\";\nimport \"../styles.scss\";\n\nexport default function ChitOutput({\n  className,\n  title,\n  results\n}: {\n  className?: string;\n  title: string;\n  results: {\n    text: string;\n    value?: T_StringOrNumber;\n    valueClassName?: string;\n  }[];\n}) {\n  return (\n    <section className={`chit-output-section ${className ?? \"\"}`}>\n      <h2>{title}</h2>\n      <output>\n        <table>\n          <tbody className=\"chit-output-results-table-body\">\n            {results.map(({ text, value, valueClassName }) => (\n              <tr key={text}>\n                <th className=\"chit-output-text\">{text}</th>\n                <td className={valueClassName}>{value ?? textsChit.noValue}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </output>\n    </section>\n  );\n}\n","import React from \"react\";\nimport { toHTMLElementID } from \"shared/helpers/string\";\nimport { textsChit } from \"../constants\";\nimport \"../styles.scss\";\nimport {\n  E_ChitActionType,\n  T_ChitDepositIndex,\n  T_ChitInputDepositActionType,\n  T_Deposits\n} from \"../types\";\n\nexport default function Deposits({\n  deposits,\n  onInputChange\n}: {\n  deposits: T_Deposits;\n  onInputChange: (\n    event: React.ChangeEvent<HTMLInputElement>,\n    actionType: T_ChitInputDepositActionType,\n    index: T_ChitDepositIndex\n  ) => void;\n}) {\n  return (\n    <section className=\"deposits\">\n      <h2>{textsChit.deposits}</h2>\n      {deposits.map((_d, depositIndex) => (\n        <form key={depositIndex} className=\"deposit-item\">\n          {[\n            {\n              text: textsChit.depositAmount,\n              id: toHTMLElementID(textsChit.depositAmount),\n              actionType: E_ChitActionType.inputDepositAmount\n            },\n            {\n              text: textsChit.depositInterestPercent,\n              id: toHTMLElementID(textsChit.depositInterestPercent),\n              actionType: E_ChitActionType.inputDepositInterestPercent\n            }\n          ].map(({ text, id, actionType }) => (\n            <fieldset key={id}>\n              <label htmlFor={id}>{text}</label>\n              <input\n                type=\"text\"\n                id={id}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  onInputChange(\n                    event,\n                    actionType as T_ChitInputDepositActionType,\n                    depositIndex\n                  );\n                }}\n              />\n            </fieldset>\n          ))}\n          <button type=\"button\" className=\"deposit-remove-button\">X</button>\n        </form>\n      ))}\n    </section>\n  );\n}\n","import { T_ChitState } from \"./types\";\n\nexport const initialState: T_ChitState = {\n  chitInput: {\n    monthlyPaymentAmount: \"\",\n    duration: \"\",\n    noOfPaymentsSoFar: \"\",\n    lastPaymentAmount: \"\",\n    agencyCommissionPercent: \"5\",\n    yourAuctionAmount: \"\"\n  },\n  deposits: [{ depositAmount: \"\", depositInterestPercent: \"\" }]\n};\n\nexport const textsChit = {\n  chitStatus: \"Chit Current Status\",\n  chitAuctionResult: \"Chit Auction Result\",\n  deposits: \"Deposits\",\n  monthlyPaymentAmount: \"Monthly Payment Amount\",\n  duration: \"Chit duration in months\",\n  noOfPaymentsSoFar: \"No. of payments so far\",\n  lastPaymentAmount: \"Last payment amount\",\n  agencyCommissionPercent: \"Agency commission %\",\n  yourAuctionAmount: \"Your desired auction amount\",\n  auctionedChitTotalInHand: \"Total chit amount you get after auction\",\n  totalSavingsByAuction: \"Total savings (including deposits interests)\",\n  diffAmountWithNormalChitTotalInHand: \"How beneficial was the auction?\",\n  chitTotal: \"Total chit amount\",\n  normalChitTotalInHand: \"Total chit amount in hand (if not auctioned)\",\n  noOfMonthsRemaining: \"Months remaining\",\n  lastAuctionAmount: \"Previous auction amount\",\n  agencyCommissionAmount: \"Agency commission amount\",\n  depositAmount: \"Deposit Amount\",\n  depositInterestPercent: \"Deposit Interest Rate %\",\n  depositInterestTotalAmount:\n    \"Total interest amount from deposits (for {months} months)\",\n  hideChitOutput: \"Hide\",\n  showChitOutput: \"Show Insights\",\n  noValue: \"---\",\n  chitReducerError: \"No matching chit action\"\n};\n","import { toNumber } from \"shared/helpers/number\";\nimport { T_ChitInput, T_Deposit, T_ChitStatus } from \"./types\";\n\nexport function calcChitStatus(chitInput: T_ChitInput): T_ChitStatus {\n  const duration = toNumber(chitInput.duration);\n  const monthlyPaymentAmount = toNumber(chitInput.monthlyPaymentAmount);\n  const noOfPaymentsSoFar = toNumber(chitInput.noOfPaymentsSoFar);\n  const agencyCommissionPercent = toNumber(chitInput.agencyCommissionPercent);\n  const lastPaymentAmount = toNumber(chitInput.lastPaymentAmount);\n\n  let chitTotal = 0;\n  if (duration > 0) {\n    chitTotal = monthlyPaymentAmount * duration;\n  }\n  const noOfMonthsRemaining = duration - noOfPaymentsSoFar;\n  const agencyCommissionAmount = (chitTotal * agencyCommissionPercent) / 100;\n  const normalChitTotalInHand = chitTotal - agencyCommissionAmount;\n\n  let lastAuctionAmount = 0;\n  if (lastPaymentAmount > 0) {\n    lastAuctionAmount =\n      agencyCommissionAmount +\n      (monthlyPaymentAmount - lastPaymentAmount) * duration;\n  }\n\n  return {\n    chitTotal: Math.round(chitTotal),\n    normalChitTotalInHand: Math.round(normalChitTotalInHand),\n    noOfMonthsRemaining: Math.round(noOfMonthsRemaining),\n    lastAuctionAmount: Math.round(lastAuctionAmount),\n    agencyCommissionAmount: Math.round(agencyCommissionAmount)\n  };\n}\n\nexport function calcDepositInterestTotal(\n  deposits: T_Deposit[],\n  duration: number\n) {\n  return deposits.reduce((total, deposit) => {\n    const depositAmount = toNumber(deposit.depositAmount);\n    const depositInterestPercent = toNumber(deposit.depositInterestPercent);\n    const interestAmount =\n      ((depositAmount * depositInterestPercent) / 100 / 12) * duration;\n\n    return total + interestAmount;\n  }, 0);\n}\n\nexport function calcChitAuctionResult(\n  chitInput: T_ChitInput,\n  { chitTotal, normalChitTotalInHand, agencyCommissionAmount }: T_ChitStatus,\n  depositInterestTotal: number\n) {\n  const yourAuctionAmount = toNumber(chitInput.yourAuctionAmount);\n  const auctionedChitTotalInHand = chitTotal - yourAuctionAmount;\n  const totalSavingsByAuction = auctionedChitTotalInHand + depositInterestTotal;\n  const diffAmountWithNormalChitTotalInHand =\n    totalSavingsByAuction - normalChitTotalInHand;\n\n  return {\n    auctionedChitTotalInHand: Math.round(auctionedChitTotalInHand),\n    totalSavingsByAuction: Math.round(totalSavingsByAuction),\n    diffAmountWithNormalChitTotalInHand: Math.round(\n      diffAmountWithNormalChitTotalInHand\n    )\n  };\n}\n","import { initialState, textsChit } from \"./constants\";\nimport {\n  E_ChitActionType,\n  T_ChitAction,\n  T_ChitDepositIndex,\n  T_ChitState,\n  T_DepositField,\n  T_Deposits\n} from \"./types\";\n\nexport function chitReducer(\n  state: T_ChitState,\n  [type, payload]: T_ChitAction\n): T_ChitState {\n  switch (type) {\n    case E_ChitActionType.clearEverything: {\n      return initialState;\n    }\n    case E_ChitActionType.inputMonthlyPaymentAmount: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          monthlyPaymentAmount: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputDuration: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          duration: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputNoOfPaymentsSoFar: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          noOfPaymentsSoFar: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputLastPaymentAmount: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          lastPaymentAmount: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputAgencyCommissionPercent: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          agencyCommissionPercent: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputYourAuctionAmount: {\n      return {\n        ...state,\n        chitInput: {\n          ...state.chitInput,\n          yourAuctionAmount: payload\n        }\n      };\n    }\n    case E_ChitActionType.inputDepositAmount: {\n      const newDeposits = getUpdatedDeposits(state.deposits, {\n        ...payload,\n        field: \"depositAmount\"\n      });\n      return {\n        ...state,\n        deposits: newDeposits\n      };\n    }\n    case E_ChitActionType.inputDepositInterestPercent: {\n      const newDeposits = getUpdatedDeposits(state.deposits, {\n        ...payload,\n        field: \"depositInterestPercent\"\n      });\n      return {\n        ...state,\n        deposits: newDeposits\n      };\n    }\n    case E_ChitActionType.addDeposit: {\n      const newDeposits = state.deposits.concat(initialState.deposits[0]);\n      return {\n        ...state,\n        deposits: newDeposits\n      };\n    }\n    case E_ChitActionType.removeDeposit: {\n      const newDeposits = state.deposits.filter(\n        (_d, index) => index !== payload\n      );\n      return {\n        ...state,\n        deposits: newDeposits\n      };\n    }\n    default: {\n      throw new Error(textsChit.chitReducerError);\n    }\n  }\n}\n\nfunction getUpdatedDeposits(\n  deposits: T_Deposits,\n  updatedDeposit: {\n    index: T_ChitDepositIndex;\n    field: T_DepositField;\n    value: string;\n  }\n) {\n  return deposits.map((deposit, index) => {\n    if (updatedDeposit.index === index) {\n      return {\n        ...deposit,\n        [updatedDeposit.field]: updatedDeposit.value\n      };\n    }\n    return deposit;\n  });\n}\n","import React, { useReducer } from \"react\";\nimport ChitInput from \"./components/ChitInput\";\nimport Deposits from \"./components/Deposits\";\nimport \"./styles.scss\";\nimport { textsChit } from \"./constants\";\nimport ChitOutput from \"./components/ChitOutput\";\nimport { chitReducer } from \"./hooks\";\nimport { initialState } from \"./constants\";\nimport {\n  calcChitAuctionResult,\n  calcChitStatus,\n  calcDepositInterestTotal\n} from \"./helpers\";\nimport { toNumber } from \"shared/helpers/number\";\nimport { useMemoizedCSSClass } from \"shared/hooks/styles\";\n\nexport default function Chit() {\n  const [{ chitInput, deposits }, dispatch] = useReducer(\n    chitReducer,\n    initialState\n  );\n  const chitStatus = calcChitStatus(chitInput);\n  // Deposits are effective only from next month\n  const depositsDuration = toNumber(chitStatus.noOfMonthsRemaining) - 1;\n  const depositInterestTotal = calcDepositInterestTotal(\n    deposits,\n    depositsDuration\n  );\n  const chitAuctionResult = calcChitAuctionResult(\n    chitInput,\n    chitStatus,\n    depositInterestTotal\n  );\n  const diffAmountWithNormalChitTotalInHand = toNumber(\n    chitAuctionResult.diffAmountWithNormalChitTotalInHand\n  );\n  const diffAmountClassName = useMemoizedCSSClass(\n    [\n      {\n        \"text-red-500\": diffAmountWithNormalChitTotalInHand < 0,\n        \"text-green-500\": diffAmountWithNormalChitTotalInHand > 0\n      }\n    ],\n    [diffAmountWithNormalChitTotalInHand]\n  );\n\n  return (\n    <div className=\"chit\">\n      <div className=\"chit-input-container\">\n        <ChitInput\n          values={chitInput}\n          onInputChange={(event, actionType) => {\n            const value = event.target.value ?? \"\";\n            dispatch([actionType, value]);\n          }}\n        />\n        <div>\n          <Deposits\n            deposits={deposits}\n            onInputChange={(event, actionType, index) => {\n              const value = event.target.value ?? \"\";\n              dispatch([actionType, { index, value }]);\n            }}\n          />\n          {depositsDuration > 0 && (\n            <>\n              {textsChit.depositInterestTotalAmount.replace(\n                \"{months}\",\n                depositsDuration.toString()\n              )}\n              &nbsp;=&nbsp;{depositInterestTotal}\n            </>\n          )}\n        </div>\n      </div>\n      <div className=\"chit-output-container\">\n        <ChitOutput\n          results={[\n            {\n              text: textsChit.chitTotal,\n              value: chitStatus.chitTotal\n            },\n            {\n              text: textsChit.normalChitTotalInHand,\n              value: chitStatus.normalChitTotalInHand\n            },\n            {\n              text: textsChit.noOfMonthsRemaining,\n              value: chitStatus.noOfMonthsRemaining\n            },\n            {\n              text: textsChit.lastAuctionAmount,\n              value: chitStatus.lastAuctionAmount\n            },\n            {\n              text: textsChit.agencyCommissionAmount,\n              value: chitStatus.agencyCommissionAmount\n            }\n          ]}\n          title={textsChit.chitStatus}\n        />\n        <ChitOutput\n          results={[\n            {\n              text: textsChit.auctionedChitTotalInHand,\n              value: chitAuctionResult.auctionedChitTotalInHand\n            },\n            {\n              text: textsChit.totalSavingsByAuction,\n              value: chitAuctionResult.totalSavingsByAuction\n            },\n            {\n              text: textsChit.diffAmountWithNormalChitTotalInHand,\n              value: chitAuctionResult.diffAmountWithNormalChitTotalInHand,\n              valueClassName: diffAmountClassName\n            }\n          ]}\n          title={textsChit.chitAuctionResult}\n        />\n      </div>\n    </div>\n  );\n}\n","export type T_ChitInput = Record<\n  | \"monthlyPaymentAmount\"\n  | \"duration\"\n  | \"noOfPaymentsSoFar\"\n  | \"lastPaymentAmount\"\n  | \"agencyCommissionPercent\"\n  | \"yourAuctionAmount\",\n  string\n>;\n\nexport type T_DepositField = \"depositAmount\" | \"depositInterestPercent\";\n\nexport type T_Deposit = Record<T_DepositField, string>;\n\nexport type T_Deposits = T_Deposit[];\n\nexport type T_ChitState = {\n  chitInput: T_ChitInput;\n  deposits: T_Deposits;\n};\n\nexport enum E_ChitActionType {\n  clearEverything,\n  inputMonthlyPaymentAmount,\n  inputDuration,\n  inputNoOfPaymentsSoFar,\n  inputLastPaymentAmount,\n  inputAgencyCommissionPercent,\n  inputYourAuctionAmount,\n  inputDepositAmount,\n  inputDepositInterestPercent,\n  addDeposit,\n  removeDeposit\n}\n\nexport type T_ChitInputActionType =\n  | E_ChitActionType.inputMonthlyPaymentAmount\n  | E_ChitActionType.inputDuration\n  | E_ChitActionType.inputNoOfPaymentsSoFar\n  | E_ChitActionType.inputLastPaymentAmount\n  | E_ChitActionType.inputAgencyCommissionPercent\n  | E_ChitActionType.inputYourAuctionAmount;\n\nexport type T_ChitInputDepositActionType =\n  | E_ChitActionType.inputDepositAmount\n  | E_ChitActionType.inputDepositInterestPercent;\n\nexport type T_ChitDepositIndex = number;\n\nexport type T_ChitAction =\n  | [E_ChitActionType.clearEverything]\n  | [T_ChitInputActionType, string]\n  | [\n      T_ChitInputDepositActionType,\n      {\n        index: T_ChitDepositIndex;\n        value: string;\n      }\n    ]\n  | [E_ChitActionType.addDeposit, T_Deposits]\n  | [E_ChitActionType.removeDeposit, T_ChitDepositIndex];\n\nexport type T_ChitStatus = {\n  chitTotal: number;\n  normalChitTotalInHand: number;\n  noOfMonthsRemaining: number;\n  lastAuctionAmount: number;\n  agencyCommissionAmount: number;\n};\n","export function toNumber(x: any) {\n  return +x;\n}\n\nexport function round(num: number | string, fractionDigits: number = 2) {\n  return toNumber(toNumber(num).toFixed(fractionDigits));\n}\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["ChitInput","onInputChange","values","className","text","textsChit","id","toHTMLElementID","actionType","E_ChitActionType","value","monthlyPaymentAmount","duration","noOfPaymentsSoFar","lastPaymentAmount","agencyCommissionPercent","yourAuctionAmount","map","htmlFor","type","onChange","event","ChitOutput","title","results","valueClassName","Deposits","deposits","_d","depositIndex","initialState","chitInput","depositAmount","depositInterestPercent","chitStatus","chitAuctionResult","auctionedChitTotalInHand","totalSavingsByAuction","diffAmountWithNormalChitTotalInHand","chitTotal","normalChitTotalInHand","noOfMonthsRemaining","lastAuctionAmount","agencyCommissionAmount","depositInterestTotalAmount","hideChitOutput","showChitOutput","noValue","chitReducerError","calcChitStatus","toNumber","Math","round","calcDepositInterestTotal","reduce","total","deposit","calcChitAuctionResult","depositInterestTotal","chitReducer","state","payload","newDeposits","getUpdatedDeposits","field","concat","filter","index","Error","updatedDeposit","Chit","useReducer","dispatch","depositsDuration","diffAmountClassName","useMemoizedCSSClass","target","toString","x","num","fractionDigits","toFixed"],"sourceRoot":""}