"use strict";(self.webpackChunkmysite_dev=self.webpackChunkmysite_dev||[]).push([[4124,8660,9585],{48660:function(o,t,n){n.r(t),n.d(t,{getCompensatoryTranslationForZoom:function(){return i},getElementRectMidPoint:function(){return a},getElementTitleFromPoint:function(){return c},getPointFromEvent:function(){return r},getWidthRatio:function(){return u}});var e=n(58460);function i(o,t){return{x:-o.x*(t-1)/t,y:-o.y*(t-1)/t}}function r(o){var t={x:0,y:0};return(0,e.isTouchEvent)(o)?(t.x=o.targetTouches[0].clientX,t.y=o.targetTouches[0].clientY):(t.x=o.clientX,t.y=o.clientY),t}function a(o){if(o.current)return{x:o.current.getBoundingClientRect().width/2,y:o.current.getBoundingClientRect().height/2}}function u(o,t){if(t.current)return o.width/t.current.getBoundingClientRect().width}function c(o){var t=document.elementFromPoint(o.x,o.y);if(t){var n,e=t.dataset||t;return null!==(n=e.title)&&void 0!==n?n:e.id}return""}},64124:function(o,t,n){n.r(t),n.d(t,{useMapControls:function(){return p}});var e=n(29439),i=n(1413),r=n(60213),a=n(48660),u=n(72791),c=n(49585),s={x:0,y:0},l=(0,i.Z)((0,i.Z)({},s),{},{width:1010,height:655}),m=null;function p(){var o=(0,u.useRef)(null),t=(0,u.useReducer)(v,{pointedAt:m,initialViewBox:l,viewBox:l,isPointerDown:!1,widthRatio:1,pointerOrigin:s,zoomCompensatoryTranslate:s,zoomFactor:1}),n=(0,e.Z)(t,2),p=n[0],d=n[1],f=function(o,t){var n=function(t){var n=(0,a.getPointFromEvent)(t);o([c.E_MapControlActions.pointerDown,n])},e=function(){o([c.E_MapControlActions.pointerUp])},i=function(t){t.preventDefault();var n=(0,a.getPointFromEvent)(t),e=(0,a.getElementTitleFromPoint)(n);o([c.E_MapControlActions.pointerMove,{elementTitle:e,position:n}])};return window.PointerEvent?{onPointerDown:n,onPointerUp:e,onPointerLeave:e,onPointerMove:i}:{onMouseDown:n,onMouseUp:e,onMouseLeave:e,onMouseMove:i,onTouchStart:n,onTouchEnd:e,onTouchMove:i}}(d),w=function(o,t){return{zoomIn:function(){return o([c.E_MapControlActions.zoomIn])},zoomOut:function(){return o([c.E_MapControlActions.zoomOut])},zoomReset:function(){return o([c.E_MapControlActions.zoomReset])}}}(d);return function(o,t){(0,u.useEffect)((function(){var n=function(){var n={},e=(0,a.getElementRectMidPoint)(t),i=(0,a.getWidthRatio)(l,t);(0,r.isNullOrVoid)(i)||(n.widthRatio=i),e&&(n.midPoint=e),Object.keys(n).length>0&&o([c.E_MapControlActions.setGeometricInitials,n])};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[t,o])}(d,o),(0,i.Z)((0,i.Z)({},p),{},{svgRef:o,panEventHandlers:f,zoomEventHandlers:w})}function v(o,t){var n=(0,e.Z)(t,2),r=n[0],u=n[1];switch(r){case c.E_MapControlActions.setGeometricInitials:return(0,i.Z)((0,i.Z)({},o),u);case c.E_MapControlActions.pointerDown:return(0,i.Z)((0,i.Z)({},o),{},{isPointerDown:!0,pointerOrigin:u});case c.E_MapControlActions.pointerMove:var p=!!u.elementTitle,v=p?u:m;return o.isPointerDown?(0,i.Z)((0,i.Z)({},o),{},{pointedAt:m,viewBox:(0,i.Z)((0,i.Z)({},o.viewBox),{},{x:o.initialViewBox.x-(u.position.x-o.pointerOrigin.x)*o.widthRatio,y:o.initialViewBox.y-(u.position.y-o.pointerOrigin.y)*o.widthRatio})}):p||o.pointedAt!==m?(0,i.Z)((0,i.Z)({},o),{},{pointedAt:v}):o;case c.E_MapControlActions.pointerUp:return(0,i.Z)((0,i.Z)({},o),{},{isPointerDown:!1,initialViewBox:(0,i.Z)((0,i.Z)({},o.initialViewBox),{},{x:o.viewBox.x,y:o.viewBox.y})});case c.E_MapControlActions.zoomIn:var d,f,w=o.zoomFactor+.5;return o.midPoint&&(f=(0,a.getCompensatoryTranslationForZoom)(o.midPoint,w)),(0,i.Z)((0,i.Z)({},o),{},{zoomFactor:w,zoomCompensatoryTranslate:null!==(d=f)&&void 0!==d?d:o.zoomCompensatoryTranslate});case c.E_MapControlActions.zoomOut:var z,C,E=o.zoomFactor-.5;return o.midPoint&&(z=(0,a.getCompensatoryTranslationForZoom)(o.midPoint,E)),E>1||1!==o.zoomFactor?(0,i.Z)((0,i.Z)({},o),{},{zoomFactor:E<1?1:E,zoomCompensatoryTranslate:null!==(C=z)&&void 0!==C?C:o.zoomCompensatoryTranslate}):o;case c.E_MapControlActions.zoomReset:return(0,i.Z)((0,i.Z)({},o),{},{zoomFactor:1,zoomCompensatoryTranslate:s,viewBox:l,initialViewBox:l});default:return o}}},49585:function(o,t,n){var e;n.r(t),n.d(t,{E_MapControlActions:function(){return e}}),function(o){o[o.setGeometricInitials=0]="setGeometricInitials",o[o.pointerDown=1]="pointerDown",o[o.pointerUp=2]="pointerUp",o[o.pointerMove=3]="pointerMove",o[o.zoomIn=4]="zoomIn",o[o.zoomOut=5]="zoomOut",o[o.zoomReset=6]="zoomReset"}(e||(e={}))}}]);
//# sourceMappingURL=4124.6aa375c5.chunk.js.map