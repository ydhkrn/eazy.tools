"use strict";(self.webpackChunkmysite_dev=self.webpackChunkmysite_dev||[]).push([[7617,8771,2523,1885,15],{67617:function(e,t,n){n.r(t),n.d(t,{fetchForexData:function(){return d}});var r=n(15861),o=n(87757),a=n.n(o),s=n(58771),u=n(31885),i=n(60015),c=n(92523),f=n(98771);function d(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=JSON.parse(null!==(t=i.LocalStorage.getItem(s.default.webStorage.forexData))&&void 0!==t?t:"null"))&&!((0,u.getTimestamp)()>r.timeNextUpdate)){e.next=6;break}return e.next=4,(0,c.default)({method:c.T_HTTPMethod.GET,endpoint:s.default.API.forex});case 4:(o=e.sent).result&&(r=(0,f.mapForexRateResponse)(o.result),i.LocalStorage.setItem(s.default.webStorage.forexData,JSON.stringify(r)));case 6:return e.abrupt("return",null===(n=r)||void 0===n?void 0:n.conversionRates);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},98771:function(e,t,n){function r(e){return{baseCode:e.base_code,conversionRates:e.conversion_rates,timeLastUpdate:e.time_last_update_unix,timeNextUpdate:e.time_next_update_unix}}n.r(t),n.d(t,{mapForexRateResponse:function(){return r}})},92523:function(e,t,n){n.r(t),n.d(t,{T_HTTPMethod:function(){return r},getQueryParams:function(){return u},default:function(){return i}});var r,o=n(15861),a=n(87757),s=n.n(a);!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(r||(r={}));var u=function(e){return Object.keys(e).filter((function(t){return"undefined"!==typeof e[t]&&null!==e[t]&&""!==e[t]})).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")};function i(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)(s().mark((function e(t){var n,o,a,i,c,f,d,p,l,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,o=t.endpoint,a=t.params,i=t.headers,c=t.body,f=t.rawBody,d=o,a&&(d+=(-1===d.indexOf("?")?"?":"&")+u(a)),p={headers:i,method:n,credentials:"same-origin",mode:"cors"},n!==r.GET&&(f||c)&&(p.body=f||JSON.stringify(c)),e.prev=5,e.next=8,fetch(d,p);case 8:if(l=e.sent,!(l.headers.get("Content-Type")||"").includes("application/json")){e.next=16;break}return e.next=13,l.json();case 13:m=e.sent,e.next=17;break;case 16:m=l;case 17:if(!(l.status>=400)){e.next=24;break}if(e.t0=m,e.t0){e.next=23;break}return e.next=22,l.text();case 22:e.t0=e.sent;case 23:throw e.t0;case 24:return e.abrupt("return",{result:m});case 27:return e.prev=27,e.t1=e.catch(5),e.abrupt("return",{error:e.t1 instanceof Error?e.t1.message:e.t1});case 30:case"end":return e.stop()}}),e,null,[[5,27]])})))).apply(this,arguments)}},31885:function(e,t,n){function r(){return Math.floor(+Date.now()/1e3)}n.r(t),n.d(t,{getTimestamp:function(){return r}})},60015:function(e,t,n){n.r(t),n.d(t,{isStorageSupported:function(){return a},MemoryStorage:function(){return s},LocalStorage:function(){return u},SessionStorage:function(){return i}});var r=n(43144),o=n(15671);function a(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,"1"),t.removeItem(n),!0}catch(r){return!1}}var s=(0,r.Z)((function e(){var t=this;(0,o.Z)(this,e),this.storage={},this.setItem=function(e,n){var r=n&&n.toString()||"";t.storage[e]=r},this.getItem=function(e){return t.storage[e]||""},this.removeItem=function(e){delete t.storage[e]},this.clear=function(){t.storage=(new e).storage}})),u=a("localStorage")?window.localStorage:new s,i=a("sessionStorage")?window.sessionStorage:new s}}]);
//# sourceMappingURL=7617.7fe52816.chunk.js.map