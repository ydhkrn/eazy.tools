{"version":3,"file":"static/js/268.ec24572e.chunk.js","mappings":"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","sources":["pages/tools/money/chit/constants.ts","pages/tools/money/chit/helpers.ts","pages/tools/money/chit/hooks.ts","pages/tools/money/chit/index.tsx","pages/tools/money/chit/types.ts","shared/helpers/number.ts","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { T_ChitState } from \"./types\";\n\nexport const initialState: T_ChitState = {\n  chitInput: {\n    totalAmount: null,\n    duration: null,\n    lastPaymentAmount: null,\n    noOfPaymentsSoFar: null,\n    agencyCommissionPercent: null,\n    auctionBidAmount: null,\n  },\n  chitStatus: {\n    monthlyPaymentAmount: null,\n    noOfMonthsRemaining: null,\n    agencyCommissionAmount: null,\n    normalChitTotalInHand: null,\n    lastAuctionBidAmount: null,\n  },\n  deposits: [],\n  depositInterestTotal: null,\n  auctionResult: {\n    auctionedChitTotalInHand: null,\n    auctionedChitTotalInHandAndDeposits: null,\n    diffAmountWithNormalChitTotalInHand: null,\n  }\n};\n","import { toNumber } from \"shared/helpers/number\";\nimport { T_ChitInput, T_ChitStatus, T_Deposit, T_ChitState } from \"./types\";\n\nexport function calcChitStatus(chitInput: T_ChitInput): T_ChitStatus {\n  const duration = toNumber(chitInput.duration);\n\n  let monthlyPaymentAmount = 0;\n  if (duration > 0) {\n    monthlyPaymentAmount = toNumber(chitInput.totalAmount) / duration;\n  }\n\n  const noOfMonthsRemaining = duration - toNumber(chitInput.noOfPaymentsSoFar);\n  const agencyCommissionAmount =\n    (toNumber(chitInput.totalAmount) *\n      toNumber(chitInput.agencyCommissionPercent)) /\n    100;\n  const normalChitTotalInHand =\n    toNumber(chitInput.totalAmount) - agencyCommissionAmount;\n\n  let lastAuctionBidAmount = 0;\n  if (toNumber(chitInput.lastPaymentAmount) > 0) {\n    lastAuctionBidAmount =\n      agencyCommissionAmount +\n      (toNumber(monthlyPaymentAmount) - toNumber(chitInput.lastPaymentAmount)) *\n        duration;\n  }\n\n  return {\n    monthlyPaymentAmount,\n    noOfMonthsRemaining,\n    agencyCommissionAmount,\n    normalChitTotalInHand,\n    lastAuctionBidAmount\n  };\n}\n\nexport function calcDepositInterestTotal(\n  deposits: T_Deposit[],\n  duration: number\n) {\n  return deposits.reduce((total, deposit) => {\n    const interestAmount =\n      ((toNumber(deposit.amount) * (toNumber(deposit.interestRate) / 100)) /\n        12) *\n      duration; // no.of months in a year;\n\n    return total + interestAmount;\n  }, 0);\n}\n\nexport function calcChitAuctionResult(\n  chitInput: T_ChitInput,\n  depositInterestTotal: number,\n  chitStatus: T_ChitStatus\n) {\n  const auctionedChitTotalInHand =\n    toNumber(chitStatus.normalChitTotalInHand) -\n    (toNumber(chitInput.auctionBidAmount) -\n      toNumber(chitStatus.agencyCommissionAmount));\n  const auctionedChitTotalInHandAndDeposits =\n    auctionedChitTotalInHand + depositInterestTotal;\n  const diffAmountWithNormalChitTotalInHand =\n    auctionedChitTotalInHandAndDeposits -\n    toNumber(chitStatus.normalChitTotalInHand);\n\n  return {\n    auctionedChitTotalInHand,\n    auctionedChitTotalInHandAndDeposits,\n    diffAmountWithNormalChitTotalInHand\n  };\n}\n\nexport function calcChitState(\n  prevState: T_ChitState,\n  changedStateProps: Partial<T_ChitState>\n): T_ChitState {\n  let depositInterestTotal = prevState.depositInterestTotal;\n  let chitStatus = prevState.chitStatus;\n  let auctionResult = prevState.auctionResult;\n  let deposits = prevState.deposits;\n  let chitInput = prevState.chitInput;\n\n  if (changedStateProps.deposits) {\n    deposits = changedStateProps.deposits;\n    depositInterestTotal = calcDepositInterestTotal(\n      deposits,\n      toNumber(prevState.chitStatus.noOfMonthsRemaining) - 1\n    );\n    auctionResult = calcChitAuctionResult(\n      prevState.chitInput,\n      depositInterestTotal,\n      prevState.chitStatus\n    );\n  } else if (changedStateProps.chitInput) {\n    chitInput = changedStateProps.chitInput;\n    chitStatus = calcChitStatus(chitInput);\n    if (toNumber(chitInput.auctionBidAmount) > 0) {\n      auctionResult = calcChitAuctionResult(\n        chitInput,\n        toNumber(prevState.depositInterestTotal),\n        chitStatus\n      );\n    }\n  }\n\n  return {\n    depositInterestTotal,\n    chitStatus,\n    auctionResult,\n    deposits,\n    chitInput\n  };\n}\n","import React from \"react\";\nimport { isChangeEvent } from \"shared/helpers/dom\";\nimport { toNumber } from \"shared/helpers/number\";\nimport { initialState } from \"./constants\";\nimport { calcChitState } from \"./helpers\";\nimport { E_ChitActions, T_ChitAction, T_ChitState } from \"./types\";\n\nexport function chitReducer(\n  state: T_ChitState,\n  [type, payload]: T_ChitAction\n): T_ChitState {\n  switch (toNumber(type)) {\n    case E_ChitActions.clearEverything: {\n      return initialState;\n    }\n    /**\n     * Deposit actions\n     */\n    case E_ChitActions.depositAdd: {\n      const newDeposits = [...state.deposits, { amount: 0, interestRate: 0 }];\n      return calcChitState(\n        state, \n        { deposits: newDeposits }\n      );\n    }\n    case E_ChitActions.depositRemove: {\n      const newDeposits = state.deposits.filter(\n        (_d, index) => index !== payload?.index\n      );\n      return calcChitState(\n        state, \n        { deposits: newDeposits }\n      );\n    }\n    case E_ChitActions.depositAmountInput: {\n      const newDeposits = state.deposits.map(\n        (d, index) => {\n          if (payload?.index === index) {\n            return { ...d, amount: toNumber(payload.value) }\n          }\n          return d;\n        }\n      );\n      return calcChitState(\n        state, \n        { deposits: newDeposits }\n      );\n    }\n    case E_ChitActions.depositInterestRateInput: {\n      const newDeposits = state.deposits.map(\n        (d, index) => {\n          if (payload?.index === index) {\n            return { ...d, interestRate: toNumber(payload.value) }\n          }\n          return d;\n        }\n      );\n      return calcChitState(\n        state, \n        { deposits: newDeposits }\n      );\n    }\n    case E_ChitActions.chitTotalAmountInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        totalAmount: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    case E_ChitActions.chitDurationInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        duration: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    case E_ChitActions.chitLastPaymentAmountInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        lastPaymentAmount: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    case E_ChitActions.chitNoOfPaymentsSoFarInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        noOfPaymentsSoFar: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    case E_ChitActions.chitAgencyCommissionPercentInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        agencyCommissionPercent: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    case E_ChitActions.chitAuctionBidAmountInput: {\n      const newChitInput = {\n        ...state.chitInput,\n        auctionBidAmount: toNumber(payload?.value)\n      };\n      return calcChitState(\n        state, \n        { chitInput: newChitInput }\n      );\n    }\n    default:\n      return state;\n  }\n}\n\nexport function useEventHandler(\n  dispatch: React.Dispatch<T_ChitAction>\n) {\n  const eventHandler = (\n    event: React.ChangeEvent<HTMLInputElement> | React.MouseEvent<HTMLButtonElement>\n  ) => {\n    const value = isChangeEvent<HTMLInputElement>(event) ? event.target.value : \"\";\n    const { action, index } = event.currentTarget.dataset;\n    if (action) {\n      const actionAndPayload: T_ChitAction = [\n        action as unknown as E_ChitActions,\n        { value, index: toNumber(index) }\n      ];\n      dispatch(actionAndPayload);\n    }\n  };\n\n  return eventHandler;\n}\n","import React from \"react\";\nimport { initialState } from \"./constants\";\nimport { chitReducer, useEventHandler } from \"./hooks\";\nimport { E_ChitActions } from \"./types\";\n\nexport default function Chit() {\n  const [state, dispatch] = React.useReducer(chitReducer, initialState);\n  const eventHandler = useEventHandler(dispatch);\n\n  return (\n    <div className=\"h-screen container mx-auto w-full sm:w-10/12 lg:w-11/12 xl:w-10/12 2xl:w-8/12\">\n      <div className=\"mt-5 lg:mt-10 text-gray-500\">\n        <div className=\"grid gap-6 mb-6 sm:grid-cols-2\">\n          {[\n            {\n              label: \"Total chit amount\",\n              value: state.chitInput.totalAmount ?? \"\",\n              \"data-action\": E_ChitActions.chitTotalAmountInput\n            },\n            {\n              label: \"Total Duration in months\",\n              value: state.chitInput.duration ?? \"\",\n              \"data-action\": E_ChitActions.chitDurationInput\n            },\n            {\n              label: \"No of payments so far\",\n              value: state.chitInput.noOfPaymentsSoFar ?? \"\",\n              \"data-action\": E_ChitActions.chitNoOfPaymentsSoFarInput\n            },\n            {\n              label: \"Last payment amount\",\n              value: state.chitInput.lastPaymentAmount ?? \"\",\n              \"data-action\": E_ChitActions.chitLastPaymentAmountInput\n            },\n            {\n              label: \"Agency Commission %\",\n              value: state.chitInput.agencyCommissionPercent ?? \"\",\n              \"data-action\": E_ChitActions.chitAgencyCommissionPercentInput\n            },\n            {\n              label: \"Your auction bid Amount\",\n              value: state.chitInput.auctionBidAmount ?? \"\",\n              \"data-action\": E_ChitActions.chitAuctionBidAmountInput\n            }\n          ].map(({ label, ...inputProps }) => (\n            <div key={label}>\n              <label className=\"block mb-1 text-sm font-medium text-gray-500 dark:text-gray-300\">\n                {label}\n              </label>\n              <input\n                type=\"text\"\n                className=\"bg-white border border-gray-300 text-gray-900 text-base tracking-wide rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                onChange={eventHandler}\n                {...inputProps}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n      {/* Deposits */}\n      <div className=\"space-y-2 text-gray-500\">\n        <div className=\"block\">\n          {state.deposits\n            ? state.deposits.map((deposit, index) => (\n                <div\n                  className=\"bg-gray-200 grid gap-6 mb-6 sm:grid-cols-12 px-5 py-3 rounded-lg border shadow-lg shadow-neutral-300\"\n                  key={index}\n                >\n                  <span className=\"col-span-1 text-center my-auto text-gray-500 text-xs\">\n                    Deposit {index + 1}.\n                  </span>\n                  <span className=\"col-span-5\">\n                    <label className=\"block mb-1 text-sm font-medium text-gray-500 dark:text-gray-300\">\n                      Amount\n                    </label>\n                    <input\n                      type=\"text\"\n                      className=\"bg-white border border-gray-300 text-gray-900 text-base tracking-wide rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                      value={deposit.amount ?? \"\"}\n                      data-index={index}\n                      data-action={E_ChitActions.depositAmountInput}\n                      onChange={eventHandler}\n                    />\n                  </span>\n                  <span className=\"col-span-5\">\n                    <label className=\"block mb-1 text-sm font-medium text-gray-500 dark:text-gray-300\">\n                      Interest Rate %\n                    </label>\n                    <input\n                      type=\"text\"\n                      className=\"bg-white border border-gray-300 text-gray-900 text-base tracking-wide rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                      value={deposit.interestRate ?? \"\"}\n                      data-action={E_ChitActions.depositInterestRateInput}\n                      data-index={index}\n                      onChange={eventHandler}\n                    />\n                  </span>\n                  <button\n                    className=\"col-span-1 text-center my-auto text-slate-400 text-xs\"\n                    onClick={eventHandler}\n                    data-action={E_ChitActions.depositRemove}\n                    data-index={index}\n                  >\n                    ❌\n                  </button>\n                </div>\n              ))\n            : \"No deposits!\"}\n        </div>\n        <button\n          className=\"bg-slate-500 text-white active:bg-indigo-600 hover:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none ease-linear transition-all duration-150\"\n          type=\"button\"\n          onClick={eventHandler}\n          data-action={E_ChitActions.depositAdd}\n        >\n          Add new deposit\n        </button>\n      </div>\n      <div className=\"mt-5 grid grid-cols-2 gap-3\">\n        {/* Chit current status */}\n        <section className=\"p-5 mx-auto w-full bg-white shadow-lg rounded \">\n          <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"text-gray-500 text-xl\">\n                Chit Status\n              </h3>\n              <hr/>\n            </div>\n            <div className=\"block w-full overflow-x-auto\">\n              <table className=\"items-center bg-transparent w-full border-collapse\">\n                <tbody>\n                  {[\n                    {\n                      text: \"Monthly payment amount\",\n                      value: state.chitStatus.monthlyPaymentAmount\n                    },\n                    {\n                      text: \"Months remaining\",\n                      value: state.chitStatus.noOfMonthsRemaining\n                    },\n                    {\n                      text: \"Agency commission amount\",\n                      value: state.chitStatus.agencyCommissionAmount\n                    },\n                    {\n                      text: \"Last auction bid amount\",\n                      value: state.chitStatus.lastAuctionBidAmount\n                    },\n                    {\n                      text: \"Chit total if not auctioned\",\n                      value: state.chitStatus.normalChitTotalInHand\n                    }\n                  ].map(({ text, value }) => (\n                    <tr key={text}>\n                      <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 text-left text-slate-600\">\n                        {text}\n                      </th>\n                      <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 text-slate-600 tracking-widest\">\n                        {value ?? \"---\"}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </section>\n\n        {/* Chit auction result */}\n        <section className=\"p-5 mx-auto w-full bg-white shadow-lg rounded \">\n          <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"text-gray-500 text-xl\">\n                Chit Auction Result\n              </h3>\n              <hr/>\n            </div>\n            <div className=\"block w-full overflow-x-auto\">\n              <table className=\"items-center bg-transparent w-full border-collapse \">\n                <tbody>\n                  {[\n                    {\n                      text: \"Total chit amount you get after auction\",\n                      value: state.auctionResult.auctionedChitTotalInHand\n                    },\n                    {\n                      text: \"Total savings\",\n                      value:\n                        state.auctionResult.auctionedChitTotalInHandAndDeposits\n                    },\n                    {\n                      text: \"How beneficial was the auction?\",\n                      value:\n                        state.auctionResult.diffAmountWithNormalChitTotalInHand\n                    }\n                  ].map(({ text, value }) => (\n                    <tr key={text}>\n                      <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 text-left text-slate-600\">\n                        {text}\n                      </th>\n                      <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 text-slate-600 tracking-widest\">\n                        {value ?? \"---\"}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","import { T_StringOrNumber } from \"shared/types/common\";\nimport { T_Nullable } from \"shared/types/generics\";\n\nexport enum E_ChitActions {\n  clearEverything,\n  chitTotalAmountInput,\n  chitDurationInput,\n  chitLastPaymentAmountInput,\n  chitNoOfPaymentsSoFarInput,\n  chitAgencyCommissionPercentInput,\n  chitAuctionBidAmountInput,\n  auctionInput,\n  depositAdd,\n  depositRemove,\n  depositAmountInput,\n  depositInterestRateInput\n}\n\nexport type T_ChitAction = [\n  type: E_ChitActions,\n  payload?: { value?: T_StringOrNumber; index?: number; }\n];\n\nexport type T_ChitInput = {\n  totalAmount: T_Nullable<number>;\n  duration: T_Nullable<number>;\n  lastPaymentAmount: T_Nullable<number>;\n  noOfPaymentsSoFar: T_Nullable<number>;\n  agencyCommissionPercent: T_Nullable<number>;\n  auctionBidAmount: T_Nullable<number>;\n};\n\nexport type T_ChitStatus = {\n  monthlyPaymentAmount: T_Nullable<number>;\n  noOfMonthsRemaining: T_Nullable<number>;\n  agencyCommissionAmount: T_Nullable<number>;\n  normalChitTotalInHand: T_Nullable<number>;\n  lastAuctionBidAmount: T_Nullable<number>;\n}\n\nexport type T_Deposit = {\n  amount: T_Nullable<number>;\n  interestRate: T_Nullable<number>;\n};\n\nexport type T_ChitAuctionResult = {\n  auctionedChitTotalInHand: T_Nullable<number>;\n  auctionedChitTotalInHandAndDeposits: T_Nullable<number>;\n  diffAmountWithNormalChitTotalInHand: T_Nullable<number>;\n};\n\nexport type T_ChitState = {\n  chitInput: T_ChitInput;\n  chitStatus: T_ChitStatus;\n  deposits: T_Deposit[];\n  depositInterestTotal: T_Nullable<number>;\n  auctionResult: T_ChitAuctionResult;\n};\n","export function toNumber(x: any) {\n  return +x;\n}\n\nexport function round(num: number | string, fractionDigits: number = 2) {\n  return toNumber(toNumber(num).toFixed(fractionDigits));\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["initialState","chitInput","totalAmount","duration","lastPaymentAmount","noOfPaymentsSoFar","agencyCommissionPercent","auctionBidAmount","chitStatus","monthlyPaymentAmount","noOfMonthsRemaining","agencyCommissionAmount","normalChitTotalInHand","lastAuctionBidAmount","deposits","depositInterestTotal","auctionResult","auctionedChitTotalInHand","auctionedChitTotalInHandAndDeposits","diffAmountWithNormalChitTotalInHand","calcChitStatus","toNumber","calcDepositInterestTotal","reduce","total","deposit","amount","interestRate","calcChitAuctionResult","calcChitState","prevState","changedStateProps","chitReducer","state","type","payload","E_ChitActions","newDeposits","filter","_d","index","map","d","value","newChitInput","useEventHandler","dispatch","event","isChangeEvent","target","currentTarget","dataset","action","actionAndPayload","Chit","React","eventHandler","className","label","inputProps","onChange","onClick","text","x","round","num","fractionDigits","toFixed","_objectWithoutProperties","source","excluded","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","_objectWithoutPropertiesLoose","sourceKeys","keys"],"sourceRoot":""}