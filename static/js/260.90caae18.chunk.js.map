{"version":3,"file":"static/js/260.90caae18.chunk.js","mappings":"oOAGO,SAASA,EAAeC,GAC7B,MAAMC,GAAWC,EAAAA,EAAAA,UAASF,EAAUC,UAC9BE,GAAuBD,EAAAA,EAAAA,UAASF,EAAUG,sBAC1CC,GAAoBF,EAAAA,EAAAA,UAASF,EAAUI,mBACvCC,GAA0BH,EAAAA,EAAAA,UAASF,EAAUK,yBAC7CC,GAAoBJ,EAAAA,EAAAA,UAASF,EAAUM,mBAE7C,IAAIC,EAAY,EACZN,EAAW,IACbM,EAAYJ,EAAuBF,GAErC,MAAMO,EAAsBP,EAAWG,EACjCK,EAA0BF,EAAYF,EAA2B,IACjEK,EAAwBH,EAAYE,EAE1C,IAAIE,EAAoB,EAOxB,OANIL,EAAoB,IACtBK,EACEF,GACCN,EAAuBG,GAAqBL,GAG1C,CACLM,UAAWK,KAAKC,MAAMN,GACtBG,sBAAuBE,KAAKC,MAAMH,GAClCF,oBAAqBI,KAAKC,MAAML,GAChCG,kBAAmBC,KAAKC,MAAMF,GAC9BF,uBAAwBG,KAAKC,MAAMJ,GAEvC,CAEO,SAASK,EACdC,EACAd,GAEA,OAAOc,EAASC,QAAO,CAACC,EAAOC,IAMtBD,GALef,EAAAA,EAAAA,UAASgB,EAAQC,gBACRjB,EAAAA,EAAAA,UAASgB,EAAQE,wBAEF,IAAM,GAAMnB,GAGzD,EACL,CAEO,SAASoB,EACdrB,EAAsBsB,EAEtBC,GACC,IAFD,UAAEhB,EAAS,sBAAEG,EAAqB,uBAAED,GAAsCa,EAG1E,MACME,EAA2BjB,GADPL,EAAAA,EAAAA,UAASF,EAAUyB,mBAEvCC,EAAwBF,EAA2BD,EACnDI,EACJD,EAAwBhB,EAE1B,MAAO,CACLc,yBAA0BZ,KAAKC,MAAMW,GACrCE,sBAAuBd,KAAKC,MAAMa,GAClCC,oCAAqCf,KAAKC,MACxCc,GAGN,C,kBClEO,SAASzB,EAAS0B,GACvB,OAAQA,CACV,CAEO,SAASf,EAAMgB,GAAmD,IAA7BC,EAAsBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACnE,OAAO7B,EAASA,EAAS2B,GAAKK,QAAQJ,GACxC,C","sources":["pages/tools/money/chit/helpers.ts","shared/helpers/number.ts"],"sourcesContent":["import { toNumber } from \"shared/helpers/number\";\r\nimport { T_ChitInput, T_Deposit, T_ChitStatus } from \"./types\";\r\n\r\nexport function calcChitStatus(chitInput: T_ChitInput): T_ChitStatus {\r\n  const duration = toNumber(chitInput.duration);\r\n  const monthlyPaymentAmount = toNumber(chitInput.monthlyPaymentAmount);\r\n  const noOfPaymentsSoFar = toNumber(chitInput.noOfPaymentsSoFar);\r\n  const agencyCommissionPercent = toNumber(chitInput.agencyCommissionPercent);\r\n  const lastPaymentAmount = toNumber(chitInput.lastPaymentAmount);\r\n\r\n  let chitTotal = 0;\r\n  if (duration > 0) {\r\n    chitTotal = monthlyPaymentAmount * duration;\r\n  }\r\n  const noOfMonthsRemaining = duration - noOfPaymentsSoFar;\r\n  const agencyCommissionAmount = (chitTotal * agencyCommissionPercent) / 100;\r\n  const normalChitTotalInHand = chitTotal - agencyCommissionAmount;\r\n\r\n  let lastAuctionAmount = 0;\r\n  if (lastPaymentAmount > 0) {\r\n    lastAuctionAmount =\r\n      agencyCommissionAmount +\r\n      (monthlyPaymentAmount - lastPaymentAmount) * duration;\r\n  }\r\n\r\n  return {\r\n    chitTotal: Math.round(chitTotal),\r\n    normalChitTotalInHand: Math.round(normalChitTotalInHand),\r\n    noOfMonthsRemaining: Math.round(noOfMonthsRemaining),\r\n    lastAuctionAmount: Math.round(lastAuctionAmount),\r\n    agencyCommissionAmount: Math.round(agencyCommissionAmount)\r\n  };\r\n}\r\n\r\nexport function calcDepositInterestTotal(\r\n  deposits: T_Deposit[],\r\n  duration: number\r\n) {\r\n  return deposits.reduce((total, deposit) => {\r\n    const depositAmount = toNumber(deposit.depositAmount);\r\n    const depositInterestPercent = toNumber(deposit.depositInterestPercent);\r\n    const interestAmount =\r\n      ((depositAmount * depositInterestPercent) / 100 / 12) * duration;\r\n\r\n    return total + interestAmount;\r\n  }, 0);\r\n}\r\n\r\nexport function calcChitAuctionResult(\r\n  chitInput: T_ChitInput,\r\n  { chitTotal, normalChitTotalInHand, agencyCommissionAmount }: T_ChitStatus,\r\n  depositInterestTotal: number\r\n) {\r\n  const yourAuctionAmount = toNumber(chitInput.yourAuctionAmount);\r\n  const auctionedChitTotalInHand = chitTotal - yourAuctionAmount;\r\n  const totalSavingsByAuction = auctionedChitTotalInHand + depositInterestTotal;\r\n  const diffAmountWithNormalChitTotalInHand =\r\n    totalSavingsByAuction - normalChitTotalInHand;\r\n\r\n  return {\r\n    auctionedChitTotalInHand: Math.round(auctionedChitTotalInHand),\r\n    totalSavingsByAuction: Math.round(totalSavingsByAuction),\r\n    diffAmountWithNormalChitTotalInHand: Math.round(\r\n      diffAmountWithNormalChitTotalInHand\r\n    )\r\n  };\r\n}\r\n","export function toNumber(x: any) {\r\n  return +x;\r\n}\r\n\r\nexport function round(num: number | string, fractionDigits: number = 2) {\r\n  return toNumber(toNumber(num).toFixed(fractionDigits));\r\n}\r\n"],"names":["calcChitStatus","chitInput","duration","toNumber","monthlyPaymentAmount","noOfPaymentsSoFar","agencyCommissionPercent","lastPaymentAmount","chitTotal","noOfMonthsRemaining","agencyCommissionAmount","normalChitTotalInHand","lastAuctionAmount","Math","round","calcDepositInterestTotal","deposits","reduce","total","deposit","depositAmount","depositInterestPercent","calcChitAuctionResult","_ref","depositInterestTotal","auctionedChitTotalInHand","yourAuctionAmount","totalSavingsByAuction","diffAmountWithNormalChitTotalInHand","x","num","fractionDigits","arguments","length","undefined","toFixed"],"sourceRoot":""}