{"version":3,"file":"static/js/7732.1629437a.chunk.js","mappings":"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","sources":["shared/components/unitConverter/helpers.ts","shared/components/unitConverter/hooks.ts","shared/images/delete.svg","shared/images/swap.svg","shared/components/unitConverter/index.tsx","shared/components/unitConverter/types.ts","shared/helpers/number.ts","shared/helpers/pageCache.ts","shared/helpers/webStorage.ts","webpack://mysite-dev/./src/shared/components/unitConverter/styles.scss?7fec"],"sourcesContent":["import {\n  T_ConversionRates,\n  T_FavoriteCodes,\n  T_FavoritesWithValue\n} from \"shared/components/unitConverter/types\";\nimport { round, toNumber } from \"shared/helpers/number\";\nimport { T_StringOrNumber } from \"shared/types/common\";\nimport { T_ConversionFormulas } from \"shared/types/unitConverter\";\n\nexport function sanitizeNumericInput(value: string) {\n  return (\n    value\n      // allow only numbers (with/without decimal values)\n      .replace(/[^0-9.]/g, \"\")\n      // allow only one decimal\n      .replace(/(\\..*?)\\..*/g, \"$1\")\n      // add a leading zero if the input is just a decimal point\n      // this will help 'toNumber' method to cast \"0.\" to 0\n      .replace(/^(\\.)$/, \"0.\")\n      // allow leading zero only for decimal values\n      .replace(/^0(\\d)/, \"$1\")\n  );\n}\n\nexport function getDefaultFavorites(\n  favoriteCodes: T_FavoriteCodes\n): T_FavoritesWithValue {\n  return favoriteCodes.map((code) => ({ code, value: \"\" }));\n}\n\nexport function calcValueForFavorites({\n  favorites,\n  conversionRates,\n  conversionFormulas,\n  inputCode,\n  inputValue\n}: T_CalcValueForFavoritesFnParams): T_FavoritesWithValue {\n  return favorites.map((favItem) => ({\n    ...favItem,\n    value: calcValue({\n      conversionRates,\n      conversionFormulas,\n      inputCode,\n      targetCode: favItem.code,\n      inputValue\n    })\n  }));\n}\n\nexport function calcValue({\n  conversionRates,\n  conversionFormulas,\n  inputCode,\n  targetCode,\n  inputValue\n}: T_CalcValueFnParams): T_StringOrNumber {\n  if (conversionFormulas) {\n    return calcValueBasedOnFormula({\n      conversionFormulas,\n      inputCode,\n      targetCode,\n      inputValue\n    });\n  } else if (conversionRates) {\n    return calcValueBasedOnRatio({\n      conversionRates,\n      inputCode,\n      targetCode,\n      inputValue\n    });\n  } else {\n    return inputValue;\n  }\n}\n\n/**\n * Assume:\n *    base code (of master data): BBB\n *    input code: CCC\n *    input value: x\n *    target code: YYY\n *\n * and we know (from master data):\n *    1 BBB = n1 CCC\n *    1 BBB = n2 YYY\n *\n * then,\n *               1 CCC  =  (1 / n1) BBB\n *               x CCC  =  x * (1 / n1) BBB\n *    x * (1 / n1) BBB  =  n2 * x * (1 / n1) YYY\n *               x CCC  =  n2 * x * / n1 YYY\n */\nfunction calcValueBasedOnRatio({\n  conversionRates,\n  inputCode,\n  targetCode,\n  inputValue\n}: { conversionRates: T_ConversionRates } & T_CalcValueFnParams) {\n  const x = toNumber(inputValue);\n  const n1 = conversionRates[inputCode];\n  const n2 = conversionRates[targetCode];\n\n  return round((n2 * x) / n1);\n}\n\nfunction calcValueBasedOnFormula({\n  conversionFormulas,\n  inputCode,\n  targetCode,\n  inputValue\n}: { conversionFormulas: T_ConversionFormulas } & T_CalcValueFnParams) {\n  let targetValue: T_StringOrNumber = 0;\n\n  if (inputCode === conversionFormulas.baseUnitCode) {\n    return conversionFormulas.fromBaseTo[targetCode](inputValue);\n  }\n\n  targetValue = conversionFormulas.toBaseFrom[inputCode](inputValue);\n\n  if (targetCode === conversionFormulas.baseUnitCode) {\n    return targetValue;\n  } else {\n    return conversionFormulas.fromBaseTo[targetCode](targetValue);\n  }\n}\n\ntype T_CalcValueForFavoritesFnParams = Omit<\n  T_CalcValueFnParams,\n  \"targetCode\"\n> & {\n  favorites: T_FavoritesWithValue;\n};\n\ntype T_CalcValueFnParams = {\n  inputCode: string;\n  targetCode: string;\n  inputValue: T_StringOrNumber;\n  conversionRates?: T_ConversionRates;\n  conversionFormulas?: T_ConversionFormulas;\n};\n","import React, { useMemo, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport PageCache from \"shared/helpers/pageCache\";\nimport {\n  sanitizeNumericInput,\n  getDefaultFavorites,\n  calcValue,\n  calcValueForFavorites\n} from \"./helpers\";\nimport {\n  E_PageCacheKeys,\n  E_UnitConverterActions,\n  E_UnitConverterListItemActions,\n  T_FavoriteCodes,\n  T_UnitConverterAction,\n  T_UnitConverterConversionLogicProps,\n  T_UnitConverterPropsDefaults,\n  T_UnitConverterState\n} from \"./types\";\n\nexport function useElementHandlers(\n  dispatch: React.Dispatch<T_UnitConverterAction>,\n  pageCache: PageCache\n) {\n  const inputValueEl = useRef<HTMLInputElement>(null);\n  const targetValueEl = useRef<HTMLInputElement>(null);\n\n  const eventHandlers = useMemo(() => {\n    const handleInputValueChange = (\n      event: React.ChangeEvent<HTMLInputElement>\n    ) => dispatch([E_UnitConverterActions.setInputValue, event.target.value]);\n    const handleTargetValueChange = (\n      event: React.ChangeEvent<HTMLInputElement>\n    ) => dispatch([E_UnitConverterActions.setTargetValue, event.target.value]);\n    const handleListItemAction = (\n      event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n    ) => {\n      const { code, actionName } = event.currentTarget.dataset;\n      if (code && actionName) {\n        switch (actionName as unknown as E_UnitConverterListItemActions) {\n          case E_UnitConverterListItemActions.input: {\n            pageCache.set(E_PageCacheKeys.inputCode, code);\n            dispatch([E_UnitConverterActions.setInputCode, code]);\n            inputValueEl.current?.focus();\n            return;\n          }\n          case E_UnitConverterListItemActions.target: {\n            pageCache.set(E_PageCacheKeys.targetCode, code);\n            dispatch([E_UnitConverterActions.setTargetCode, code]);\n            targetValueEl.current?.focus();\n            return;\n          }\n          default:\n            return;\n        }\n      }\n    };\n    const handleInputTargetCodeSwapClick = (\n      inputCode: string,\n      targetCode: string\n    ) => {\n      pageCache.set(E_PageCacheKeys.inputCode, targetCode);\n      pageCache.set(E_PageCacheKeys.targetCode, inputCode);\n      dispatch([E_UnitConverterActions.swapInputTargetCode]);\n      inputValueEl.current?.focus();\n    };\n    const handleInputClearClick = () => {\n      dispatch([E_UnitConverterActions.setInputValue, \"\"]);\n      inputValueEl.current?.focus();\n    };\n    const handleTargetClearClick = () => {\n      dispatch([E_UnitConverterActions.setTargetValue, \"\"]);\n      targetValueEl.current?.focus();\n    };\n\n    return {\n      handleInputValueChange,\n      handleTargetValueChange,\n      handleListItemAction,\n      handleInputClearClick,\n      handleTargetClearClick,\n      handleInputTargetCodeSwapClick\n    };\n  }, [dispatch, pageCache]);\n\n  return {\n    inputValueEl,\n    targetValueEl,\n    ...eventHandlers\n  };\n}\n\nexport function useDefaults(defaults: T_UnitConverterPropsDefaults) {\n  const location = useLocation();\n\n  return useMemo(() => {\n    const pageCache = new PageCache(location.pathname);\n    return {\n      inputCode:\n        pageCache.get<string>(E_PageCacheKeys.inputCode) || defaults.inputCode,\n      targetCode:\n        pageCache.get<string>(E_PageCacheKeys.targetCode) ||\n        defaults.targetCode,\n      favorites: getDefaultFavorites(\n        (pageCache.get(E_PageCacheKeys.favoriteCodes) as T_FavoriteCodes) ||\n          defaults.favoriteCodes\n      ),\n      pageCache\n    };\n  }, [location, defaults]);\n}\n\nexport function createReducer(props: T_UnitConverterConversionLogicProps) {\n  return (\n    state: T_UnitConverterState,\n    [type, payload]: T_UnitConverterAction\n  ) => {\n    if (!props.conversionRates && !props.conversionFormulas) {\n      return state;\n    }\n\n    const conversionLogicProps = {\n      conversionRates: props.conversionRates,\n      conversionFormulas: props.conversionFormulas\n    };\n\n    switch (type) {\n      case E_UnitConverterActions.setInputCode: {\n        return {\n          ...state,\n          inputCode: payload,\n          targetValue: calcValue({\n            ...conversionLogicProps,\n            inputCode: payload,\n            targetCode: state.targetCode,\n            inputValue: state.inputValue\n          }),\n          favorites: calcValueForFavorites({\n            ...conversionLogicProps,\n            favorites: state.favorites,\n            inputCode: payload,\n            inputValue: state.inputValue\n          })\n        };\n      }\n\n      case E_UnitConverterActions.setTargetCode: {\n        const newInputValue = calcValue({\n          ...conversionLogicProps,\n          inputCode: payload,\n          targetCode: state.inputCode,\n          inputValue: state.targetValue\n        });\n\n        return {\n          ...state,\n          targetCode: payload,\n          inputValue: newInputValue,\n          favorites: calcValueForFavorites({\n            ...conversionLogicProps,\n            favorites: state.favorites,\n            inputCode: state.inputCode,\n            inputValue: newInputValue\n          })\n        };\n      }\n\n      case E_UnitConverterActions.swapInputTargetCode: {\n        return {\n          ...state,\n          inputCode: state.targetCode,\n          targetCode: state.inputCode,\n          inputValue: state.targetValue,\n          targetValue: state.inputValue\n        };\n      }\n\n      case E_UnitConverterActions.setInputValue: {\n        const sanitizedInputValue = sanitizeNumericInput(payload);\n\n        // Avoid state update (and re-render) if there is no change\n        if (sanitizedInputValue === state.inputValue) {\n          return state;\n        }\n\n        return {\n          ...state,\n          inputValue: sanitizedInputValue,\n          targetValue: calcValue({\n            ...conversionLogicProps,\n            inputCode: state.inputCode,\n            targetCode: state.targetCode,\n            inputValue: sanitizedInputValue\n          }),\n          favorites: calcValueForFavorites({\n            ...conversionLogicProps,\n            favorites: state.favorites,\n            inputCode: state.inputCode,\n            inputValue: sanitizedInputValue\n          })\n        };\n      }\n\n      case E_UnitConverterActions.setTargetValue: {\n        const sanitizedTargetValue = sanitizeNumericInput(payload);\n\n        // Avoid state update (and re-render) if there is no change\n        if (sanitizedTargetValue === state.targetValue) {\n          return state;\n        }\n\n        const newInputValue = calcValue({\n          ...conversionLogicProps,\n          inputCode: state.targetCode,\n          targetCode: state.inputCode,\n          inputValue: sanitizedTargetValue\n        });\n\n        return {\n          ...state,\n          inputValue: newInputValue,\n          targetValue: sanitizedTargetValue,\n          favorites: calcValueForFavorites({\n            ...conversionLogicProps,\n            favorites: state.favorites,\n            inputCode: state.inputCode,\n            inputValue: newInputValue\n          })\n        };\n      }\n\n      case E_UnitConverterActions.toggleFavorite: {\n        const favoritesArrWithoutPayloadItem = state.favorites.filter(\n          (favItem) => favItem.code !== payload\n        );\n\n        // Check if the filtering resulted in a smaller array than state.favorites\n        if (favoritesArrWithoutPayloadItem.length < state.favorites.length) {\n          // This means that the supplied item already existed in state.favorites\n          // and we just obtained an array after removing it.\n          return {\n            ...state,\n            favorites: favoritesArrWithoutPayloadItem\n          };\n        }\n\n        // Otherwise it means that payload item is a new item to be favorited\n        return {\n          ...state,\n          favorites: [...state.favorites, payload]\n        };\n      }\n      default:\n        return state;\n    }\n  };\n}\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 489.425 489.425\",\n    style: {\n      enableBackground: \"new 0 0 489.425 489.425\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M122.825,394.663c17.8,19.4,43.2,30.6,69.5,30.6h216.9c44.2,0,80.2-36,80.2-80.2v-200.7c0-44.2-36-80.2-80.2-80.2h-216.9 c-26.4,0-51.7,11.1-69.5,30.6l-111.8,121.7c-14.7,16.1-14.7,40.3,0,56.4L122.825,394.663z M29.125,233.063l111.8-121.8 c13.2-14.4,32-22.6,51.5-22.6h216.9c30.7,0,55.7,25,55.7,55.7v200.6c0,30.7-25,55.7-55.7,55.7h-217c-19.5,0-38.3-8.2-51.5-22.6 l-111.7-121.8C23.025,249.663,23.025,239.663,29.125,233.063z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M225.425,309.763c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l47.8-47.8l47.8,47.8c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6 c4.8-4.8,4.8-12.5,0-17.3l-47.9-47.8l47.8-47.8c4.8-4.8,4.8-12.5,0-17.3s-12.5-4.8-17.3,0l-47.8,47.8l-47.8-47.8 c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l47.8,47.8l-47.8,47.8C220.725,297.263,220.725,304.962,225.425,309.763z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.3556d1eb7ff0c2a1ea66073930c3c951.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.006 512.006\",\n    style: {\n      enableBackground: \"new 0 0 512.006 512.006\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#D83249\"\n    },\n    d: \"M23.151,149.616l115.072,115.072c7.901,7.901,20.713,7.901,28.614,0s7.901-20.713,0-28.614 l-44.568-44.568h316.313v-0.001c31.036,0,56.198-25.16,56.198-56.198c0-31.036-25.16-56.198-56.198-56.198H122.269l44.568-44.568 c3.951-3.951,5.927-9.129,5.927-14.308s-1.976-10.357-5.927-14.308c-7.901-7.901-20.713-7.901-28.614,0L23.151,121.002 C15.25,128.903,15.25,141.715,23.151,149.616z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FF4F59\"\n    },\n    d: \"M23.151,149.616l115.072,115.072c7.901,7.901,20.713,7.901,28.614,0s7.901-20.713,0-28.614 l-44.568-44.568h139.247V79.111H122.269l44.568-44.568c3.951-3.951,5.927-9.129,5.927-14.308s-1.976-10.357-5.927-14.308 c-7.901-7.901-20.713-7.901-28.614,0L23.151,121.002C15.25,128.903,15.25,141.715,23.151,149.616z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#CFCDCF\"\n    },\n    d: \"M488.855,362.39L373.783,247.318c-7.901-7.901-20.713-7.901-28.614,0 c-7.901,7.901-7.901,20.713,0,28.614l44.567,44.568H73.423v0.001c-31.036,0-56.198,25.16-56.198,56.198 c0,31.036,25.16,56.198,56.198,56.198h316.314l-44.568,44.568c-3.951,3.951-5.927,9.129-5.927,14.308 c0,5.179,1.976,10.357,5.927,14.308c7.901,7.901,20.713,7.901,28.614,0l115.072-115.072 C496.757,383.103,496.757,370.291,488.855,362.39z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#B1B0BC\"\n    },\n    d: \"M488.855,362.39L373.783,247.318c-7.901-7.901-20.713-7.901-28.614,0 c-7.901,7.901-7.901,20.713,0,28.614l44.567,44.568H261.518v112.395h128.218l-44.568,44.568c-3.951,3.951-5.927,9.129-5.927,14.308 c0,5.179,1.976,10.357,5.927,14.308c7.901,7.901,20.713,7.901,28.614,0l115.072-115.072 C496.757,383.103,496.757,370.291,488.855,362.39z\"\n  }), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwap);\nexport default __webpack_public_path__ + \"static/media/swap.879a49335bf9b6183ffea43623e20dd4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useReducer } from \"react\";\n\nimport deleteIcon from \"shared/images/delete.svg\";\nimport swapIcon from \"shared/images/swap.svg\";\nimport { createReducer, useDefaults, useElementHandlers } from \"./hooks\";\nimport \"./styles.scss\";\nimport {\n  E_UnitConverterListItemActions,\n  T_FavoriteItemWithValue,\n  T_UnitConverterProps,\n  T_UnitConverterState\n} from \"./types\";\n\nexport default function UnitConverter(props: T_UnitConverterProps) {\n  const defaults = useDefaults(props.defaults);\n  const memoizedReducer = useCallback(createReducer(props), [\n    props.conversionFormulas,\n    props.conversionRates\n  ]);\n  const [state, dispatch] = useReducer(memoizedReducer, {\n    inputCode: defaults.inputCode,\n    targetCode: defaults.targetCode,\n    inputValue: \"\",\n    targetValue: \"\",\n    favorites: defaults.favorites\n  });\n  const {\n    handleInputValueChange,\n    handleTargetValueChange,\n    handleListItemAction,\n    handleInputClearClick,\n    handleTargetClearClick,\n    handleInputTargetCodeSwapClick,\n    inputValueEl,\n    targetValueEl\n  } = useElementHandlers(dispatch, defaults.pageCache);\n\n  return (\n    <div className=\"MoneyEx\">\n      <div className=\"gridWrap\">\n        <div className=\"inputWrap\">\n          {[\n            /**\n             * Input unit\n             */\n            {\n              code: state.inputCode,\n              valueEl: inputValueEl,\n              value: state.inputValue ?? (state.targetValue === 0 ? 0 : \"\"),\n              placeholder: `${E_UnitConverterListItemActions.input}:`,\n              onClearClick: handleInputClearClick,\n              onValueChange: handleInputValueChange\n            },\n            /**\n             * Target unit\n             */\n            {\n              code: state.targetCode,\n              valueEl: targetValueEl,\n              value: state.targetValue ?? (state.inputValue === 0 ? 0 : \"\"),\n              placeholder: `${E_UnitConverterListItemActions.target}:`,\n              onClearClick: handleTargetClearClick,\n              onValueChange: handleTargetValueChange\n            }\n          ].map((inputField, index) => {\n            const unitMapInfo = props.allUnitsMap[inputField.code];\n            const hasIcon = props.UnitIconComponent || unitMapInfo.icon;\n\n            return (\n              <div key={inputField.code} className=\"inputItem\">\n                {props.UnitIconComponent && unitMapInfo.altCode ? (\n                  <props.UnitIconComponent\n                    code={unitMapInfo.altCode}\n                    wrapperClassName=\"inputUnitIconComponent\"\n                  />\n                ) : (\n                  unitMapInfo.icon\n                )}\n                <span className=\"inputItemCodeSymbol\">\n                  {hasIcon ? `${inputField.code} ` : \"\"}\n                  {unitMapInfo.symbol}\n                </span>\n                <input\n                  autoFocus={index === 0}\n                  ref={inputField.valueEl}\n                  maxLength={12}\n                  inputMode=\"numeric\"\n                  placeholder={`${inputField.placeholder} ${unitMapInfo.name}`}\n                  className=\"inputField\"\n                  type=\"text\"\n                  onChange={inputField.onValueChange}\n                  value={inputField.value}\n                />\n                <img\n                  src={deleteIcon}\n                  onClick={inputField.onClearClick}\n                  className={`clearInputIcon ${\n                    inputField.value !== \"\" ? \"visible\" : \"invisible\"\n                  }`}\n                  alt=\"close\"\n                />\n              </div>\n            );\n          })}\n          <span className=\"inputItemsSeparator\" />\n          <img\n            src={swapIcon}\n            className=\"swapIcon\"\n            alt=\"Swap Icon\"\n            onClick={() =>\n              handleInputTargetCodeSwapClick(state.inputCode, state.targetCode)\n            }\n          />\n          {/* <button className=\"swapIcon inputWrapItemsOrdering\">SWAP</button> */}\n        </div>\n        <div className=\"favList\">\n          {getUnitListMarkup({\n            favorites: state.favorites,\n            allUnitsMap: props.allUnitsMap,\n            handleListItemAction,\n            currentInputCode: state.inputCode,\n            currentTargetCode: state.targetCode,\n            UnitIconComponent: props.UnitIconComponent\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getUnitListMarkup({\n  handleListItemAction,\n  allUnitsMap,\n  favorites,\n  currentInputCode,\n  currentTargetCode,\n  UnitIconComponent\n}: {\n  handleListItemAction: (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => void;\n  allUnitsMap: T_UnitConverterProps[\"allUnitsMap\"];\n  favorites?: T_UnitConverterState[\"favorites\"];\n  currentInputCode?: T_UnitConverterState[\"inputCode\"];\n  currentTargetCode?: T_UnitConverterState[\"targetCode\"];\n  UnitIconComponent?: T_UnitConverterProps[\"UnitIconComponent\"];\n}) {\n  const arrSource = favorites || Object.keys(allUnitsMap);\n\n  return (\n    <>\n      {arrSource.map((unit) => {\n        const code = favorites\n          ? (unit as T_FavoriteItemWithValue).code\n          : (unit as string);\n\n        // Do not render the currency item that is already the input/target\n        if (code === currentInputCode || code === currentTargetCode) {\n          return null;\n        }\n\n        const unitMapInfo = allUnitsMap[code];\n        const hasIcon = UnitIconComponent || unitMapInfo.icon;\n\n        return (\n          <div className=\"itemWrap\" key={code}>\n            <div className=\"itemInfoWrap\">\n              <div className=\"codeFlagGroup\">\n                {hasIcon ? (\n                  <>\n                    {UnitIconComponent && unitMapInfo.altCode ? (\n                      <UnitIconComponent\n                        code={unitMapInfo.altCode}\n                        wrapperClassName=\"-mt-1 pr-2\"\n                      />\n                    ) : (\n                      unitMapInfo.icon\n                    )}\n                    {code}\n                  </>\n                ) : (\n                  <span className=\"text-xl\">{unitMapInfo.symbol}</span>\n                )}\n              </div>\n              <div className=\"favItemRightGroup\">\n                {favorites && (\n                  <div className=\"favItemSymbolValueGroup\">\n                    {hasIcon && (\n                      <span className=\"favItemSymbol\">\n                        {unitMapInfo.symbol || \"\"}\n                      </span>\n                    )}\n                    <span className=\"exRate\">\n                      &nbsp;\n                      {(unit as T_FavoriteItemWithValue).value ?? 0}\n                    </span>\n                  </div>\n                )}\n                <div className=\"name\">\n                  {(code && unitMapInfo?.name) || \"...\"}\n                </div>\n              </div>\n            </div>\n            <div className=\"favItemActionBtnGroup\">\n              {[\n                E_UnitConverterListItemActions.input,\n                E_UnitConverterListItemActions.target\n              ].map((btnName) => (\n                <button\n                  key={btnName}\n                  className=\"favItemActionBtn\"\n                  data-code={code}\n                  data-action-name={btnName}\n                  onClick={handleListItemAction}\n                >\n                  {btnName}\n                </button>\n              ))}\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","import React from \"react\";\nimport {\n  T_ConversionFormulas,\n  T_UnitConversionAllUnitsMap\n} from \"shared/types/unitConverter\";\nimport { T_Object } from \"shared/types/generics\";\nimport { T_StringOrNumber } from \"shared/types/common\";\n\nexport const enum E_PageCacheKeys {\n  inputCode = \"inputCode\",\n  targetCode = \"targetCode\",\n  favoriteCodes = \"favoriteCodes\"\n}\n\nexport const enum E_UnitConverterListItemActions {\n  input = \"INPUT\",\n  target = \"TARGET\"\n}\n\nexport const enum E_UnitConverterActions {\n  setInputCode,\n  setTargetCode,\n  setInputValue,\n  setTargetValue,\n  swapInputTargetCode,\n  toggleFavorite\n}\n\nexport type T_ConverionRateAPIFn = (...args: any[]) => Promise<\n  | {\n      conversionRates: T_ConversionRates;\n    }\n  | undefined\n  | null\n>;\n\nexport type T_UnitConverterPropsDefaults = {\n  inputCode: string;\n  targetCode: string;\n  favoriteCodes: T_FavoriteCodes;\n};\n\nexport type T_UnitConverterConversionLogicProps = {\n  conversionRates?: T_ConversionRates;\n  conversionFormulas?: T_ConversionFormulas;\n};\n\nexport type T_UnitConverterProps = {\n  allUnitsMap: T_UnitConversionAllUnitsMap;\n  defaults: T_UnitConverterPropsDefaults;\n  UnitIconComponent?: React.ComponentType<{\n    code: string;\n    wrapperClassName?: string;\n    iconClassName?: string;\n  }>;\n} & T_UnitConverterConversionLogicProps;\n\nexport type T_FavoriteItemWithValue = {\n  code: string;\n  value: T_StringOrNumber;\n};\n\nexport type T_FavoriteCodes = string[];\n\nexport type T_FavoritesWithValue = T_FavoriteItemWithValue[];\n\nexport type T_ConversionRates = T_Object<number>;\n\nexport type T_UnitConverterAction = [\n  type: E_UnitConverterActions,\n  payload?: any\n];\n\nexport type T_UnitConverterState = {\n  inputCode: string;\n  targetCode: string;\n  favorites: T_FavoritesWithValue;\n  inputValue: string | number;\n  targetValue: string | number;\n};\n","export function toNumber(x: any) {\n  return +x;\n}\n\nexport function round(num: number | string, fractionDigits: number = 2) {\n  return toNumber(toNumber(num).toFixed(fractionDigits));\n}\n","import { LocalStorage } from \"shared/helpers/webStorage\";\n\nexport default class PageCache {\n  keyPrefix: string;\n  cachedKeys: string[] = [];\n\n  constructor(pathname: string) {\n    this.keyPrefix = pathname;\n  }\n\n  private getPageKey(key: string) {\n    return `${this.keyPrefix}-${key}`;\n  }\n\n  public set = (key: string, data: any = null): void => {\n    const pageKey = this.getPageKey(key);\n    LocalStorage.setItem(pageKey, JSON.stringify(data));\n    this.cachedKeys.push(key);\n  };\n\n  public get = <Result>(key: string): Result | null => {\n    const pageKey = this.getPageKey(key);\n    return JSON.parse(LocalStorage.getItem(pageKey) ?? \"null\");\n  };\n\n  public remove = (key: string): void => {\n    const pageKey = this.getPageKey(key);\n    LocalStorage.removeItem(pageKey);\n    this.cachedKeys = this.cachedKeys.filter((k) => k !== key);\n  };\n\n  public clearAll = () => {\n    this.cachedKeys.forEach((key) => this.remove(key));\n    this.cachedKeys = [];\n  };\n}\n","export function isStorageSupported(type: string): boolean {\n  try {\n    const storage = (window as { [key: string]: any })[type];\n    const testKey = \"__storage_test__\";\n\n    storage.setItem(testKey, \"1\");\n    storage.removeItem(testKey);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\n// Wrapper class for storage\nexport class MemoryStorage {\n  public storage: { [x: string]: string } = {};\n\n  public setItem = (key: string, data: string): void => {\n    const json = (data && data.toString()) || \"\";\n\n    this.storage[key] = json;\n  };\n\n  public getItem = (key: string): string | null => this.storage[key] || \"\";\n\n  public removeItem = (key: string): void => {\n    delete this.storage[key];\n  };\n\n  public clear = () => {\n    this.storage = new MemoryStorage().storage;\n  };\n}\n\nexport const LocalStorage = isStorageSupported(\"localStorage\")\n  ? window.localStorage\n  : new MemoryStorage();\n\nexport const SessionStorage = isStorageSupported(\"sessionStorage\")\n  ? window.sessionStorage\n  : new MemoryStorage();\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["sanitizeNumericInput","value","replace","getDefaultFavorites","favoriteCodes","map","code","calcValueForFavorites","favorites","conversionRates","conversionFormulas","inputCode","inputValue","favItem","calcValue","targetCode","targetValue","baseUnitCode","fromBaseTo","toBaseFrom","calcValueBasedOnFormula","x","toNumber","n1","n2","round","calcValueBasedOnRatio","useElementHandlers","dispatch","pageCache","inputValueEl","useRef","targetValueEl","eventHandlers","useMemo","handleInputValueChange","event","E_UnitConverterActions","target","handleTargetValueChange","handleListItemAction","currentTarget","dataset","actionName","E_UnitConverterListItemActions","set","E_PageCacheKeys","current","focus","handleInputClearClick","handleTargetClearClick","handleInputTargetCodeSwapClick","useDefaults","defaults","location","useLocation","PageCache","pathname","get","createReducer","props","state","type","payload","conversionLogicProps","newInputValue","sanitizedInputValue","sanitizedTargetValue","favoritesArrWithoutPayloadItem","filter","length","UnitConverter","memoizedReducer","useCallback","useReducer","className","valueEl","placeholder","onClearClick","onValueChange","inputField","index","unitMapInfo","allUnitsMap","hasIcon","UnitIconComponent","icon","altCode","wrapperClassName","symbol","autoFocus","ref","maxLength","inputMode","name","onChange","src","deleteIcon","onClick","alt","swapIcon","getUnitListMarkup","currentInputCode","currentTargetCode","arrSource","Object","keys","unit","btnName","num","fractionDigits","toFixed","keyPrefix","cachedKeys","key","data","pageKey","getPageKey","LocalStorage","JSON","stringify","push","parse","remove","k","clearAll","forEach","this","isStorageSupported","storage","window","testKey","setItem","removeItem","error","MemoryStorage","json","toString","getItem","clear","localStorage","SessionStorage","sessionStorage"],"sourceRoot":""}