{"version":3,"file":"static/js/2523.97aaa21a.chunk.js","mappings":"sOAAkBA,E,gCAMjB,SANiBA,GAAAA,EAAY,UAAZA,EAAY,YAAZA,EAAY,UAAZA,EAAY,cAAZA,EAAY,gBAM7B,CANiBA,IAAAA,EAAY,KAiBvB,IAAMC,EAAiB,SAACC,GAAiC,OAC9DC,OAAOC,KAAKF,GACTG,QACC,SAACC,GAAC,MACqB,qBAAdJ,EAAOI,IACA,OAAdJ,EAAOI,IACO,KAAdJ,EAAOI,EAAS,IAEnBC,KAAI,SAACD,GAAC,gBAAQE,mBAAmBF,GAAE,YAAIE,mBAAmBN,EAAOI,IAAG,IACpEG,KAAK,IAAK,EAEA,SAAeC,EAAO,kCA6CpC,wCA7Cc,uGAwBZ,OAvBDC,EAAM,EAANA,OACAC,EAAQ,EAARA,SACAV,EAAM,EAANA,OACAW,EAAO,EAAPA,QACAC,EAAI,EAAJA,KACAC,EAAO,EAAPA,QAKIC,EAAMJ,EACNV,IACFc,KAA8B,IAAtBA,EAAIC,QAAQ,KAAc,IAAM,KAAOhB,EAAeC,IAG1DgB,EAA4B,CAChCL,QAAAA,EACAF,OAAAA,EACAQ,YAAa,cACbC,KAAM,QAEJT,IAAWX,EAAaqB,MAAQN,GAAWD,KAC7CI,EAAaJ,KAAOC,GAAWO,KAAKC,UAAUT,IAC/C,kBAGwBU,MAAMR,EAAKE,GAAc,KAAD,EACgB,GADzDO,EAAQ,SACMA,EAASZ,QAAQa,IAAI,iBAAmB,IAG5CC,SAAS,oBAAoB,CAAD,iCAC3BF,EAASG,OAAO,KAAD,GAA9BC,EAAM,+BAENA,EAASJ,EAAyB,aAGhCA,EAASK,QAAU,KAAG,iBACZ,GADY,KAClBD,EAAM,uCAAWJ,EAASM,OAAM,wEAGjC,CAAEF,OAAAA,IAAQ,2DAEV,CAAEG,MAAO,gBAAiBC,MAAQ,KAAMC,QAAO,OAAU,2DAEnE,sB","sources":["shared/helpers/request.ts"],"sourcesContent":["export const enum T_HTTPMethod {\n  GET = \"GET\",\n  POST = \"POST\",\n  PUT = \"PUT\",\n  PATCH = \"PATCH\",\n  DELETE = \"DELETE\"\n}\n\ninterface T_RequestOptions {\n  method: T_HTTPMethod;\n  endpoint: string;\n  params?: { [key: string]: any };\n  headers?: HeadersInit;\n  body?: any;\n  rawBody?: BodyInit | null;\n}\n\nexport const getQueryParams = (params: { [key: string]: string }): string =>\n  Object.keys(params)\n    .filter(\n      (k) =>\n        typeof params[k] !== \"undefined\" &&\n        params[k] !== null &&\n        params[k] !== \"\"\n    ) // removes if empty, but accepts \"0\"\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join(\"&\");\n\nexport default async function request<T>({\n  method,\n  endpoint,\n  params,\n  headers,\n  body,\n  rawBody\n}: T_RequestOptions): Promise<{\n  result?: T;\n  error?: unknown;\n}> {\n  let url = endpoint;\n  if (params) {\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + getQueryParams(params);\n  }\n\n  const fetchOptions: RequestInit = {\n    headers,\n    method,\n    credentials: \"same-origin\",\n    mode: \"cors\"\n  };\n  if (method !== T_HTTPMethod.GET && (rawBody || body)) {\n    fetchOptions.body = rawBody || JSON.stringify(body);\n  }\n\n  try {\n    const response = await fetch(url, fetchOptions);\n    const contentType = response.headers.get(\"Content-Type\") || \"\";\n    let result: T;\n\n    if (contentType.includes(\"application/json\")) {\n      result = await response.json();\n    } else {\n      result = response as unknown as T;\n    }\n\n    if (response.status >= 400) {\n      throw result || (await response.text());\n    }\n\n    return { result };\n  } catch (error) {\n    return { error: error instanceof Error ? error.message : error };\n  }\n}\n"],"names":["T_HTTPMethod","getQueryParams","params","Object","keys","filter","k","map","encodeURIComponent","join","request","method","endpoint","headers","body","rawBody","url","indexOf","fetchOptions","credentials","mode","GET","JSON","stringify","fetch","response","get","includes","json","result","status","text","error","Error","message"],"sourceRoot":""}