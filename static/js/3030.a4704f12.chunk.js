"use strict";(self.webpackChunkeazy_tools_dev=self.webpackChunkeazy_tools_dev||[]).push([[3030,4495,6678,2199,1459,5075,3745],{84495:(e,t,a)=>{a.r(t),a.d(t,{calcValue:()=>i,calcValueForFavorites:()=>s,getDefaultFavorites:()=>r,sanitizeNumericInput:()=>o});var n=a(51459);function o(e){return e.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1").replace(/^(\.)$/,"0.").replace(/^0(\d)/,"$1")}function r(e){return e.map((e=>({code:e,value:""})))}function s(e){let{favorites:t,conversionRates:a,conversionFormulas:n,inputCode:o,inputValue:r}=e;return t.map((e=>({...e,value:i({conversionRates:a,conversionFormulas:n,inputCode:o,targetCode:e.code,inputValue:r})})))}function i(e){let{conversionRates:t,conversionFormulas:a,inputCode:o,targetCode:r,inputValue:s}=e;return a?function(e){let{conversionFormulas:t,inputCode:a,targetCode:n,inputValue:o}=e,r=0;if(a===t.baseUnitCode)return t.fromBaseTo[n](o);return r=t.toBaseFrom[a](o),n===t.baseUnitCode?r:t.fromBaseTo[n](r)}({conversionFormulas:a,inputCode:o,targetCode:r,inputValue:s}):t?function(e){let{conversionRates:t,inputCode:a,targetCode:o,inputValue:r}=e;const s=(0,n.toNumber)(r),i=t[a],u=t[o];return(0,n.round)(u*s/i)}({conversionRates:t,inputCode:o,targetCode:r,inputValue:s}):s}},6678:(e,t,a)=>{a.r(t),a.d(t,{createReducer:()=>c,useDefaults:()=>l,useElementHandlers:()=>u});var n=a(65043),o=a(86971),r=a(25075),s=a(84495),i=a(72199);function u(e,t){const a=(0,n.useRef)(null),o=(0,n.useRef)(null),r=(0,n.useMemo)((()=>({handleInputValueChange:t=>e([i.E_UnitConverterActions.setInputValue,t.target.value]),handleTargetValueChange:t=>e([i.E_UnitConverterActions.setTargetValue,t.target.value]),handleListItemAction:n=>{const{code:r,actionName:s}=n.currentTarget.dataset;if(r&&s)switch(s){case i.E_UnitConverterListItemActions.input:var u;return t.set(i.E_PageCacheKeys.inputCode,r),e([i.E_UnitConverterActions.setInputCode,r]),void(null===(u=a.current)||void 0===u||u.focus());case i.E_UnitConverterListItemActions.target:var l;return t.set(i.E_PageCacheKeys.targetCode,r),e([i.E_UnitConverterActions.setTargetCode,r]),void(null===(l=o.current)||void 0===l||l.focus());default:return}},handleInputClearClick:()=>{var t;e([i.E_UnitConverterActions.setInputValue,""]),null===(t=a.current)||void 0===t||t.focus()},handleTargetClearClick:()=>{var t;e([i.E_UnitConverterActions.setTargetValue,""]),null===(t=o.current)||void 0===t||t.focus()},handleInputTargetCodeSwapClick:(n,o)=>{var r;t.set(i.E_PageCacheKeys.inputCode,o),t.set(i.E_PageCacheKeys.targetCode,n),e([i.E_UnitConverterActions.swapInputTargetCode]),null===(r=a.current)||void 0===r||r.focus()}})),[e,t]);return{inputValueEl:a,targetValueEl:o,...r}}function l(e){const t=(0,o.zy)();return(0,n.useMemo)((()=>{const a=new r.default(t.pathname);return{inputCode:a.get(i.E_PageCacheKeys.inputCode)||e.inputCode,targetCode:a.get(i.E_PageCacheKeys.targetCode)||e.targetCode,favorites:(0,s.getDefaultFavorites)(a.get(i.E_PageCacheKeys.favoriteCodes)||e.favoriteCodes),pageCache:a}}),[t,e])}function c(e){return(t,a)=>{let[n,o]=a;if(!e.conversionRates&&!e.conversionFormulas)return t;const r={conversionRates:e.conversionRates,conversionFormulas:e.conversionFormulas};switch(n){case i.E_UnitConverterActions.setInputCode:return{...t,inputCode:o,targetValue:(0,s.calcValue)({...r,inputCode:o,targetCode:t.targetCode,inputValue:t.inputValue}),favorites:(0,s.calcValueForFavorites)({...r,favorites:t.favorites,inputCode:o,inputValue:t.inputValue})};case i.E_UnitConverterActions.setTargetCode:{const e=(0,s.calcValue)({...r,inputCode:o,targetCode:t.inputCode,inputValue:t.targetValue});return{...t,targetCode:o,inputValue:e,favorites:(0,s.calcValueForFavorites)({...r,favorites:t.favorites,inputCode:t.inputCode,inputValue:e})}}case i.E_UnitConverterActions.swapInputTargetCode:return{...t,inputCode:t.targetCode,targetCode:t.inputCode,inputValue:t.targetValue,targetValue:t.inputValue};case i.E_UnitConverterActions.setInputValue:{const e=(0,s.sanitizeNumericInput)(o);return e===t.inputValue?t:{...t,inputValue:e,targetValue:(0,s.calcValue)({...r,inputCode:t.inputCode,targetCode:t.targetCode,inputValue:e}),favorites:(0,s.calcValueForFavorites)({...r,favorites:t.favorites,inputCode:t.inputCode,inputValue:e})}}case i.E_UnitConverterActions.setTargetValue:{const e=(0,s.sanitizeNumericInput)(o);if(e===t.targetValue)return t;const a=(0,s.calcValue)({...r,inputCode:t.targetCode,targetCode:t.inputCode,inputValue:e});return{...t,inputValue:a,targetValue:e,favorites:(0,s.calcValueForFavorites)({...r,favorites:t.favorites,inputCode:t.inputCode,inputValue:a})}}case i.E_UnitConverterActions.toggleFavorite:{const e=t.favorites.filter((e=>e.code!==o));return e.length<t.favorites.length?{...t,favorites:e}:{...t,favorites:[...t.favorites,o]}}default:return t}}}},53030:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(65043);const o=a.p+"static/media/delete.3556d1eb7ff0c2a1ea66073930c3c951.svg";const r=a.p+"static/media/swap.879a49335bf9b6183ffea43623e20dd4.svg";var s=a(6678),i=(a(87536),a(72199)),u=a(70579);function l(e){var t,a;const l=(0,s.useDefaults)(e.defaults),d=(0,n.useCallback)((0,s.createReducer)(e),[e.conversionFormulas,e.conversionRates]),[p,C]=(0,n.useReducer)(d,{inputCode:l.inputCode,targetCode:l.targetCode,inputValue:"",targetValue:"",favorites:l.favorites}),{handleInputValueChange:v,handleTargetValueChange:g,handleListItemAction:m,handleInputClearClick:h,handleTargetClearClick:f,handleInputTargetCodeSwapClick:V,inputValueEl:I,targetValueEl:E}=(0,s.useElementHandlers)(C,l.pageCache);return(0,u.jsx)("div",{className:"MoneyEx",children:(0,u.jsxs)("div",{className:"gridWrap",children:[(0,u.jsxs)("div",{className:"inputWrap",children:[[{code:p.inputCode,valueEl:I,value:null!==(t=p.inputValue)&&void 0!==t?t:0===p.targetValue?0:"",placeholder:`${i.E_UnitConverterListItemActions.input}:`,onClearClick:h,onValueChange:v},{code:p.targetCode,valueEl:E,value:null!==(a=p.targetValue)&&void 0!==a?a:0===p.inputValue?0:"",placeholder:`${i.E_UnitConverterListItemActions.target}:`,onClearClick:f,onValueChange:g}].map(((t,a)=>{const n=e.allUnitsMap[t.code],r=e.UnitIconComponent||n.icon;return(0,u.jsxs)("div",{className:"inputItem",children:[e.UnitIconComponent&&n.altCode?(0,u.jsx)(e.UnitIconComponent,{code:n.altCode,wrapperClassName:"inputUnitIconComponent"}):n.icon,(0,u.jsxs)("span",{className:"inputItemCodeSymbol",children:[r?`${t.code} `:"",n.symbol]}),(0,u.jsx)("input",{autoFocus:0===a,ref:t.valueEl,maxLength:12,inputMode:"numeric",placeholder:`${t.placeholder} ${n.name}`,className:"inputField",type:"text",onChange:t.onValueChange,value:t.value}),(0,u.jsx)("img",{src:o,onClick:t.onClearClick,className:"clearInputIcon "+(""!==t.value?"visible":"invisible"),alt:"close"})]},t.code)})),(0,u.jsx)("span",{className:"inputItemsSeparator"}),(0,u.jsx)("img",{src:r,className:"swapIcon",alt:"Swap Icon",onClick:()=>V(p.inputCode,p.targetCode)})]}),(0,u.jsx)("div",{className:"favList",children:c({favorites:p.favorites,allUnitsMap:e.allUnitsMap,handleListItemAction:m,currentInputCode:p.inputCode,currentTargetCode:p.targetCode,UnitIconComponent:e.UnitIconComponent})})]})})}function c(e){let{handleListItemAction:t,allUnitsMap:a,favorites:n,currentInputCode:o,currentTargetCode:r,UnitIconComponent:s}=e;const l=n||Object.keys(a);return(0,u.jsx)(u.Fragment,{children:l.map((e=>{var l;const c=n?e.code:e;if(c===o||c===r)return null;const d=a[c],p=s||d.icon;return(0,u.jsxs)("div",{className:"itemWrap",children:[(0,u.jsxs)("div",{className:"itemInfoWrap",children:[(0,u.jsx)("div",{className:"codeFlagGroup",children:p?(0,u.jsxs)(u.Fragment,{children:[s&&d.altCode?(0,u.jsx)(s,{code:d.altCode,wrapperClassName:"-mt-1 pr-2"}):d.icon,c]}):(0,u.jsx)("span",{className:"text-xl",children:d.symbol})}),(0,u.jsxs)("div",{className:"favItemRightGroup",children:[n&&(0,u.jsxs)("div",{className:"favItemSymbolValueGroup",children:[p&&(0,u.jsx)("span",{className:"favItemSymbol",children:d.symbol||""}),(0,u.jsxs)("span",{className:"exRate",children:["\xa0",null!==(l=e.value)&&void 0!==l?l:0]})]}),(0,u.jsx)("div",{className:"name",children:c&&(null===d||void 0===d?void 0:d.name)||"..."})]})]}),(0,u.jsx)("div",{className:"favItemActionBtnGroup",children:[i.E_UnitConverterListItemActions.input,i.E_UnitConverterListItemActions.target].map((e=>(0,u.jsx)("button",{className:"favItemActionBtn","data-code":c,"data-action-name":e,onClick:t,children:e},e)))})]},c)}))})}},72199:(e,t,a)=>{let n,o,r;a.r(t),a.d(t,{E_PageCacheKeys:()=>n,E_UnitConverterActions:()=>r,E_UnitConverterListItemActions:()=>o}),function(e){e.inputCode="inputCode",e.targetCode="targetCode",e.favoriteCodes="favoriteCodes"}(n||(n={})),function(e){e.input="INPUT",e.target="TARGET"}(o||(o={})),function(e){e[e.setInputCode=0]="setInputCode",e[e.setTargetCode=1]="setTargetCode",e[e.setInputValue=2]="setInputValue",e[e.setTargetValue=3]="setTargetValue",e[e.swapInputTargetCode=4]="swapInputTargetCode",e[e.toggleFavorite=5]="toggleFavorite"}(r||(r={}))},51459:(e,t,a)=>{function n(e){return+e}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return n(n(e).toFixed(t))}a.r(t),a.d(t,{round:()=>o,toNumber:()=>n})},25075:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(83745);class o{constructor(e){var t=this;this.keyPrefix=void 0,this.cachedKeys=[],this.set=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=t.getPageKey(e);n.LocalStorage.setItem(o,JSON.stringify(a)),t.cachedKeys.push(e)},this.get=e=>{var t;const a=this.getPageKey(e);return JSON.parse(null!==(t=n.LocalStorage.getItem(a))&&void 0!==t?t:"null")},this.remove=e=>{const t=this.getPageKey(e);n.LocalStorage.removeItem(t),this.cachedKeys=this.cachedKeys.filter((t=>t!==e))},this.clearAll=()=>{this.cachedKeys.forEach((e=>this.remove(e))),this.cachedKeys=[]},this.keyPrefix=e}getPageKey(e){return`${this.keyPrefix}-${e}`}}},83745:(e,t,a)=>{function n(e){try{const t=window[e],a="__storage_test__";return t.setItem(a,"1"),t.removeItem(a),!0}catch(t){return!1}}a.r(t),a.d(t,{LocalStorage:()=>r,MemoryStorage:()=>o,SessionStorage:()=>s,isStorageSupported:()=>n});class o{constructor(){this.storage={},this.setItem=(e,t)=>{const a=t&&t.toString()||"";this.storage[e]=a},this.getItem=e=>this.storage[e]||"",this.removeItem=e=>{delete this.storage[e]},this.clear=()=>{this.storage=(new o).storage}}}const r=n("localStorage")?window.localStorage:new o,s=n("sessionStorage")?window.sessionStorage:new o},87536:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});const n={}}}]);
//# sourceMappingURL=3030.a4704f12.chunk.js.map