{"version":3,"file":"static/js/2012.e5b079bc.chunk.js","mappings":"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","sources":["../node_modules/dom-accessibility-api/sources/accessible-description.ts","../node_modules/dom-accessibility-api/sources/polyfills/array.from.ts","../node_modules/dom-accessibility-api/sources/polyfills/SetLike.ts","../node_modules/dom-accessibility-api/sources/accessible-name-and-description.ts","../node_modules/dom-accessibility-api/sources/accessible-name.ts","../node_modules/dom-accessibility-api/sources/getRole.ts","../node_modules/dom-accessibility-api/sources/util.ts"],"sourcesContent":["import {\n\tcomputeTextAlternative,\n\tComputeTextAlternativeOptions,\n} from \"./accessible-name-and-description\";\nimport { queryIdRefs } from \"./util\";\n\n/**\n * @param root\n * @param options\n * @returns\n */\nexport function computeAccessibleDescription(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tlet description = queryIdRefs(root, \"aria-describedby\")\n\t\t.map((element) => {\n\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t...options,\n\t\t\t\tcompute: \"description\",\n\t\t\t});\n\t\t})\n\t\t.join(\" \");\n\n\t// TODO: Technically we need to make sure that node wasn't used for the accessible name\n\t//       This causes `description_1.0_combobox-focusable-manual` to fail\n\t//\n\t// https://www.w3.org/TR/html-aam-1.0/#accessible-name-and-description-computation\n\t// says for so many elements to use the `title` that we assume all elements are considered\n\tif (description === \"\") {\n\t\tconst title = root.getAttribute(\"title\");\n\t\tdescription = title === null ? \"\" : title;\n\t}\n\n\treturn description;\n}\n","/**\n * @source {https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Polyfill}\n * but without thisArg (too hard to type, no need to `this`)\n */\nconst toStr = Object.prototype.toString;\nfunction isCallable(fn: unknown): boolean {\n\treturn typeof fn === \"function\" || toStr.call(fn) === \"[object Function]\";\n}\nfunction toInteger(value: unknown): number {\n\tconst number = Number(value);\n\tif (isNaN(number)) {\n\t\treturn 0;\n\t}\n\tif (number === 0 || !isFinite(number)) {\n\t\treturn number;\n\t}\n\treturn (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n}\nconst maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(value: unknown): number {\n\tconst len = toInteger(value);\n\treturn Math.min(Math.max(len, 0), maxSafeInteger);\n}\n/**\n * Creates an array from an iterable object.\n * @param iterable An iterable object to convert to an array.\n */\nexport default function arrayFrom<T>(iterable: Iterable<T> | ArrayLike<T>): T[];\n/**\n * Creates an array from an iterable object.\n * @param iterable An iterable object to convert to an array.\n * @param mapfn A mapping function to call on every element of the array.\n * @param thisArg Value of 'this' used to invoke the mapfn.\n */\nexport default function arrayFrom<T, U>(\n\tarrayLike: Iterable<T> | ArrayLike<T>,\n\tmapFn?: (v: T, k: number) => U\n): U[] {\n\t// 1. Let C be the this value.\n\t// edit(@eps1lon): we're not calling it as Array.from\n\tconst C = Array;\n\n\t// 2. Let items be ToObject(arrayLike).\n\tconst items = Object(arrayLike);\n\n\t// 3. ReturnIfAbrupt(items).\n\tif (arrayLike == null) {\n\t\tthrow new TypeError(\n\t\t\t\"Array.from requires an array-like object - not null or undefined\"\n\t\t);\n\t}\n\n\t// 4. If mapfn is undefined, then let mapping be false.\n\t// const mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n\n\tif (typeof mapFn !== \"undefined\") {\n\t\t// 5. else\n\t\t// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n\t\tif (!isCallable(mapFn)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t\"Array.from: when provided, the second argument must be a function\"\n\t\t\t);\n\t\t}\n\t}\n\n\t// 10. Let lenValue be Get(items, \"length\").\n\t// 11. Let len be ToLength(lenValue).\n\tconst len = toLength(items.length);\n\n\t// 13. If IsConstructor(C) is true, then\n\t// 13. a. Let A be the result of calling the [[Construct]] internal method\n\t// of C with an argument list containing the single item len.\n\t// 14. a. Else, Let A be ArrayCreate(len).\n\tconst A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n\t// 16. Let k be 0.\n\tlet k = 0;\n\t// 17. Repeat, while k < len… (also steps a - h)\n\tlet kValue;\n\twhile (k < len) {\n\t\tkValue = items[k];\n\t\tif (mapFn) {\n\t\t\tA[k] = mapFn(kValue, k);\n\t\t} else {\n\t\t\tA[k] = kValue;\n\t\t}\n\t\tk += 1;\n\t}\n\t// 18. Let putStatus be Put(A, \"length\", len, true).\n\tA.length = len;\n\t// 20. Return A.\n\treturn A;\n}\n","declare global {\n\tclass Set<T> {\n\t\t// es2015.collection.d.ts\n\t\tconstructor(items?: T[]);\n\t\tadd(value: T): this;\n\t\tclear(): void;\n\t\tdelete(value: T): boolean;\n\t\tforEach(\n\t\t\tcallbackfn: (value: T, value2: T, set: Set<T>) => void,\n\t\t\tthisArg?: unknown\n\t\t): void;\n\t\thas(value: T): boolean;\n\t\treadonly size: number;\n\n\t\t// es2015.iterable.d.ts\n\t\t// no  implemennted\n\t}\n}\n\n// for environments without Set we fallback to arrays with unique members\nclass SetLike<T> implements Set<T> {\n\tprivate items: T[];\n\n\tconstructor(items: T[] = []) {\n\t\tthis.items = items;\n\t}\n\n\tadd(value: T): this {\n\t\tif (this.has(value) === false) {\n\t\t\tthis.items.push(value);\n\t\t}\n\t\treturn this;\n\t}\n\tclear(): void {\n\t\tthis.items = [];\n\t}\n\tdelete(value: T): boolean {\n\t\tconst previousLength = this.items.length;\n\t\tthis.items = this.items.filter((item) => item !== value);\n\n\t\treturn previousLength !== this.items.length;\n\t}\n\tforEach(callbackfn: (value: T, value2: T, set: Set<T>) => void): void {\n\t\tthis.items.forEach((item) => {\n\t\t\tcallbackfn(item, item, this);\n\t\t});\n\t}\n\thas(value: T): boolean {\n\t\treturn this.items.indexOf(value) !== -1;\n\t}\n\n\tget size(): number {\n\t\treturn this.items.length;\n\t}\n}\n\nexport default typeof Set === \"undefined\" ? Set : SetLike;\n","/**\n * implements https://w3c.github.io/accname/\n */\nimport ArrayFrom from \"./polyfills/array.from\";\nimport SetLike from \"./polyfills/SetLike\";\nimport {\n\thasAnyConcreteRoles,\n\tisElement,\n\tisHTMLTableCaptionElement,\n\tisHTMLInputElement,\n\tisHTMLSelectElement,\n\tisHTMLTextAreaElement,\n\tsafeWindow,\n\tisHTMLFieldSetElement,\n\tisHTMLLegendElement,\n\tisHTMLOptGroupElement,\n\tisHTMLTableElement,\n\tisHTMLSlotElement,\n\tisSVGSVGElement,\n\tisSVGTitleElement,\n\tqueryIdRefs,\n\tgetLocalName,\n} from \"./util\";\n\n/**\n *  A string of characters where all carriage returns, newlines, tabs, and form-feeds are replaced with a single space, and multiple spaces are reduced to a single space. The string contains only character data; it does not contain any markup.\n */\ntype FlatString = string & {\n\t__flat: true;\n};\n\n/**\n * interface for an options-bag where `window.getComputedStyle` can be mocked\n */\nexport interface ComputeTextAlternativeOptions {\n\tcompute?: \"description\" | \"name\";\n\t/**\n\t * Set to true if window.computedStyle supports the second argument.\n\t * This should be false in JSDOM. Otherwise JSDOM will log console errors.\n\t */\n\tcomputedStyleSupportsPseudoElements?: boolean;\n\t/**\n\t * mock window.getComputedStyle. Needs `content`, `display` and `visibility`\n\t */\n\tgetComputedStyle?: typeof window.getComputedStyle;\n\t/**\n\t * Set to `true` if you want to include hidden elements in the accessible name and description computation.\n\t * Skips 2A in https://w3c.github.io/accname/#computation-steps.\n\t * @default false\n\t */\n\thidden?: boolean;\n}\n\n/**\n *\n * @param {string} string -\n * @returns {FlatString} -\n */\nfunction asFlatString(s: string): FlatString {\n\treturn s.trim().replace(/\\s\\s+/g, \" \") as FlatString;\n}\n\n/**\n *\n * @param node -\n * @param options - These are not optional to prevent accidentally calling it without options in `computeAccessibleName`\n * @returns {boolean} -\n */\nfunction isHidden(\n\tnode: Node,\n\tgetComputedStyleImplementation: typeof window.getComputedStyle\n): node is Element {\n\tif (!isElement(node)) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tnode.hasAttribute(\"hidden\") ||\n\t\tnode.getAttribute(\"aria-hidden\") === \"true\"\n\t) {\n\t\treturn true;\n\t}\n\n\tconst style = getComputedStyleImplementation(node);\n\treturn (\n\t\tstyle.getPropertyValue(\"display\") === \"none\" ||\n\t\tstyle.getPropertyValue(\"visibility\") === \"hidden\"\n\t);\n}\n\n/**\n * @param {Node} node -\n * @returns {boolean} - As defined in step 2E of https://w3c.github.io/accname/#mapping_additional_nd_te\n */\nfunction isControl(node: Node): boolean {\n\treturn (\n\t\thasAnyConcreteRoles(node, [\"button\", \"combobox\", \"listbox\", \"textbox\"]) ||\n\t\thasAbstractRole(node, \"range\")\n\t);\n}\n\nfunction hasAbstractRole(node: Node, role: string): node is Element {\n\tif (!isElement(node)) {\n\t\treturn false;\n\t}\n\n\tswitch (role) {\n\t\tcase \"range\":\n\t\t\treturn hasAnyConcreteRoles(node, [\n\t\t\t\t\"meter\",\n\t\t\t\t\"progressbar\",\n\t\t\t\t\"scrollbar\",\n\t\t\t\t\"slider\",\n\t\t\t\t\"spinbutton\",\n\t\t\t]);\n\t\tdefault:\n\t\t\tthrow new TypeError(\n\t\t\t\t`No knowledge about abstract role '${role}'. This is likely a bug :(`\n\t\t\t);\n\t}\n}\n\n/**\n * element.querySelectorAll but also considers owned tree\n * @param element\n * @param selectors\n */\nfunction querySelectorAllSubtree(\n\telement: Element,\n\tselectors: string\n): Element[] {\n\tconst elements = ArrayFrom(element.querySelectorAll(selectors));\n\n\tqueryIdRefs(element, \"aria-owns\").forEach((root) => {\n\t\t// babel transpiles this assuming an iterator\n\t\telements.push.apply(elements, ArrayFrom(root.querySelectorAll(selectors)));\n\t});\n\n\treturn elements;\n}\n\nfunction querySelectedOptions(listbox: Element): ArrayLike<Element> {\n\tif (isHTMLSelectElement(listbox)) {\n\t\t// IE11 polyfill\n\t\treturn (\n\t\t\tlistbox.selectedOptions || querySelectorAllSubtree(listbox, \"[selected]\")\n\t\t);\n\t}\n\treturn querySelectorAllSubtree(listbox, '[aria-selected=\"true\"]');\n}\n\nfunction isMarkedPresentational(node: Node): node is Element {\n\treturn hasAnyConcreteRoles(node, [\"none\", \"presentation\"]);\n}\n\n/**\n * Elements specifically listed in html-aam\n *\n * We don't need this for `label` or `legend` elements.\n * Their implicit roles already allow \"naming from content\".\n *\n * sources:\n *\n * - https://w3c.github.io/html-aam/#table-element\n */\nfunction isNativeHostLanguageTextAlternativeElement(\n\tnode: Node\n): node is Element {\n\treturn isHTMLTableCaptionElement(node);\n}\n\n/**\n * https://w3c.github.io/aria/#namefromcontent\n */\nfunction allowsNameFromContent(node: Node): boolean {\n\treturn hasAnyConcreteRoles(node, [\n\t\t\"button\",\n\t\t\"cell\",\n\t\t\"checkbox\",\n\t\t\"columnheader\",\n\t\t\"gridcell\",\n\t\t\"heading\",\n\t\t\"label\",\n\t\t\"legend\",\n\t\t\"link\",\n\t\t\"menuitem\",\n\t\t\"menuitemcheckbox\",\n\t\t\"menuitemradio\",\n\t\t\"option\",\n\t\t\"radio\",\n\t\t\"row\",\n\t\t\"rowheader\",\n\t\t\"switch\",\n\t\t\"tab\",\n\t\t\"tooltip\",\n\t\t\"treeitem\",\n\t]);\n}\n\n/**\n * TODO https://github.com/eps1lon/dom-accessibility-api/issues/100\n */\nfunction isDescendantOfNativeHostLanguageTextAlternativeElement(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars -- not implemented yet\n\tnode: Node\n): boolean {\n\treturn false;\n}\n\n/**\n * TODO https://github.com/eps1lon/dom-accessibility-api/issues/101\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars -- not implemented yet\nfunction computeTooltipAttributeValue(node: Node): string | null {\n\treturn null;\n}\n\nfunction getValueOfTextbox(element: Element): string {\n\tif (isHTMLInputElement(element) || isHTMLTextAreaElement(element)) {\n\t\treturn element.value;\n\t}\n\t// https://github.com/eps1lon/dom-accessibility-api/issues/4\n\treturn element.textContent || \"\";\n}\n\nfunction getTextualContent(declaration: CSSStyleDeclaration): string {\n\tconst content = declaration.getPropertyValue(\"content\");\n\tif (/^[\"'].*[\"']$/.test(content)) {\n\t\treturn content.slice(1, -1);\n\t}\n\treturn \"\";\n}\n\n/**\n * https://html.spec.whatwg.org/multipage/forms.html#category-label\n * TODO: form-associated custom elements\n * @param element\n */\nfunction isLabelableElement(element: Element): boolean {\n\tconst localName = getLocalName(element);\n\n\treturn (\n\t\tlocalName === \"button\" ||\n\t\t(localName === \"input\" && element.getAttribute(\"type\") !== \"hidden\") ||\n\t\tlocalName === \"meter\" ||\n\t\tlocalName === \"output\" ||\n\t\tlocalName === \"progress\" ||\n\t\tlocalName === \"select\" ||\n\t\tlocalName === \"textarea\"\n\t);\n}\n\n/**\n * > [...], then the first such descendant in tree order is the label element's labeled control.\n * -- https://html.spec.whatwg.org/multipage/forms.html#labeled-control\n * @param element\n */\nfunction findLabelableElement(element: Element): Element | null {\n\tif (isLabelableElement(element)) {\n\t\treturn element;\n\t}\n\tlet labelableElement: Element | null = null;\n\telement.childNodes.forEach((childNode) => {\n\t\tif (labelableElement === null && isElement(childNode)) {\n\t\t\tconst descendantLabelableElement = findLabelableElement(childNode);\n\t\t\tif (descendantLabelableElement !== null) {\n\t\t\t\tlabelableElement = descendantLabelableElement;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn labelableElement;\n}\n\n/**\n * Polyfill of HTMLLabelElement.control\n * https://html.spec.whatwg.org/multipage/forms.html#labeled-control\n * @param label\n */\nfunction getControlOfLabel(label: HTMLLabelElement): Element | null {\n\tif (label.control !== undefined) {\n\t\treturn label.control;\n\t}\n\n\tconst htmlFor = label.getAttribute(\"for\");\n\tif (htmlFor !== null) {\n\t\treturn label.ownerDocument.getElementById(htmlFor);\n\t}\n\n\treturn findLabelableElement(label);\n}\n\n/**\n * Polyfill of HTMLInputElement.labels\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/labels\n * @param element\n */\nfunction getLabels(element: Element): HTMLLabelElement[] | null {\n\tconst labelsProperty = (element as any).labels as\n\t\t| undefined\n\t\t| null\n\t\t| NodeListOf<HTMLLabelElement>;\n\tif (labelsProperty === null) {\n\t\treturn labelsProperty;\n\t}\n\tif (labelsProperty !== undefined) {\n\t\treturn ArrayFrom(labelsProperty);\n\t}\n\n\t// polyfill\n\tif (!isLabelableElement(element)) {\n\t\treturn null;\n\t}\n\tconst document = element.ownerDocument;\n\n\treturn ArrayFrom(document.querySelectorAll(\"label\")).filter((label) => {\n\t\treturn getControlOfLabel(label) === element;\n\t});\n}\n\n/**\n * Gets the contents of a slot used for computing the accname\n * @param slot\n */\nfunction getSlotContents(slot: HTMLSlotElement): Node[] {\n\t// Computing the accessible name for elements containing slots is not\n\t// currently defined in the spec. This implementation reflects the\n\t// behavior of NVDA 2020.2/Firefox 81 and iOS VoiceOver/Safari 13.6.\n\tconst assignedNodes = slot.assignedNodes();\n\tif (assignedNodes.length === 0) {\n\t\t// if no nodes are assigned to the slot, it displays the default content\n\t\treturn ArrayFrom(slot.childNodes);\n\t}\n\treturn assignedNodes;\n}\n\n/**\n * implements https://w3c.github.io/accname/#mapping_additional_nd_te\n * @param root\n * @param options\n * @returns\n */\nexport function computeTextAlternative(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tconst consultedNodes = new SetLike<Node>();\n\n\tconst window = safeWindow(root);\n\tconst {\n\t\tcompute = \"name\",\n\t\tcomputedStyleSupportsPseudoElements = options.getComputedStyle !==\n\t\t\tundefined,\n\t\t// This might be overengineered. I don't know what happens if I call\n\t\t// window.getComputedStyle(elementFromAnotherWindow) or if I don't bind it\n\t\t// the type declarations don't require a `this`\n\t\t// eslint-disable-next-line no-restricted-properties\n\t\tgetComputedStyle = window.getComputedStyle.bind(window),\n\t\thidden = false,\n\t} = options;\n\n\t// 2F.i\n\tfunction computeMiscTextAlternative(\n\t\tnode: Node,\n\t\tcontext: { isEmbeddedInLabel: boolean; isReferenced: boolean }\n\t): string {\n\t\tlet accumulatedText = \"\";\n\t\tif (isElement(node) && computedStyleSupportsPseudoElements) {\n\t\t\tconst pseudoBefore = getComputedStyle(node, \"::before\");\n\t\t\tconst beforeContent = getTextualContent(pseudoBefore);\n\t\t\taccumulatedText = `${beforeContent} ${accumulatedText}`;\n\t\t}\n\n\t\t// FIXME: Including aria-owns is not defined in the spec\n\t\t// But it is required in the web-platform-test\n\t\tconst childNodes = isHTMLSlotElement(node)\n\t\t\t? getSlotContents(node)\n\t\t\t: ArrayFrom(node.childNodes).concat(queryIdRefs(node, \"aria-owns\"));\n\t\tchildNodes.forEach((child) => {\n\t\t\tconst result = computeTextAlternative(child, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t\trecursion: true,\n\t\t\t});\n\t\t\t// TODO: Unclear why display affects delimiter\n\t\t\t// see https://github.com/w3c/accname/issues/3\n\t\t\tconst display = isElement(child)\n\t\t\t\t? getComputedStyle(child).getPropertyValue(\"display\")\n\t\t\t\t: \"inline\";\n\t\t\tconst separator = display !== \"inline\" ? \" \" : \"\";\n\t\t\t// trailing separator for wpt tests\n\t\t\taccumulatedText += `${separator}${result}${separator}`;\n\t\t});\n\n\t\tif (isElement(node) && computedStyleSupportsPseudoElements) {\n\t\t\tconst pseudoAfter = getComputedStyle(node, \"::after\");\n\t\t\tconst afterContent = getTextualContent(pseudoAfter);\n\t\t\taccumulatedText = `${accumulatedText} ${afterContent}`;\n\t\t}\n\n\t\treturn accumulatedText;\n\t}\n\n\tfunction computeElementTextAlternative(node: Node): string | null {\n\t\tif (!isElement(node)) {\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param element\n\t\t * @param attributeName\n\t\t * @returns A string non-empty string or `null`\n\t\t */\n\t\tfunction useAttribute(\n\t\t\telement: Element,\n\t\t\tattributeName: string\n\t\t): string | null {\n\t\t\tconst attribute = element.getAttributeNode(attributeName);\n\t\t\tif (\n\t\t\t\tattribute !== null &&\n\t\t\t\t!consultedNodes.has(attribute) &&\n\t\t\t\tattribute.value.trim() !== \"\"\n\t\t\t) {\n\t\t\t\tconsultedNodes.add(attribute);\n\t\t\t\treturn attribute.value;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\t// https://w3c.github.io/html-aam/#fieldset-and-legend-elements\n\t\tif (isHTMLFieldSetElement(node)) {\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isHTMLLegendElement(child)) {\n\t\t\t\t\treturn computeTextAlternative(child, {\n\t\t\t\t\t\tisEmbeddedInLabel: false,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isHTMLTableElement(node)) {\n\t\t\t// https://w3c.github.io/html-aam/#table-element\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isHTMLTableCaptionElement(child)) {\n\t\t\t\t\treturn computeTextAlternative(child, {\n\t\t\t\t\t\tisEmbeddedInLabel: false,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isSVGSVGElement(node)) {\n\t\t\t// https://www.w3.org/TR/svg-aam-1.0/\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isSVGTitleElement(child)) {\n\t\t\t\t\treturn child.textContent;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t} else if (getLocalName(node) === \"img\" || getLocalName(node) === \"area\") {\n\t\t\t// https://w3c.github.io/html-aam/#area-element\n\t\t\t// https://w3c.github.io/html-aam/#img-element\n\t\t\tconst nameFromAlt = useAttribute(node, \"alt\");\n\t\t\tif (nameFromAlt !== null) {\n\t\t\t\treturn nameFromAlt;\n\t\t\t}\n\t\t} else if (isHTMLOptGroupElement(node)) {\n\t\t\tconst nameFromLabel = useAttribute(node, \"label\");\n\t\t\tif (nameFromLabel !== null) {\n\t\t\t\treturn nameFromLabel;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tisHTMLInputElement(node) &&\n\t\t\t(node.type === \"button\" ||\n\t\t\t\tnode.type === \"submit\" ||\n\t\t\t\tnode.type === \"reset\")\n\t\t) {\n\t\t\t// https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-description-computation\n\t\t\tconst nameFromValue = useAttribute(node, \"value\");\n\t\t\tif (nameFromValue !== null) {\n\t\t\t\treturn nameFromValue;\n\t\t\t}\n\n\t\t\t// TODO: l10n\n\t\t\tif (node.type === \"submit\") {\n\t\t\t\treturn \"Submit\";\n\t\t\t}\n\t\t\t// TODO: l10n\n\t\t\tif (node.type === \"reset\") {\n\t\t\t\treturn \"Reset\";\n\t\t\t}\n\t\t}\n\n\t\tconst labels = getLabels(node);\n\t\tif (labels !== null && labels.length !== 0) {\n\t\t\tconsultedNodes.add(node);\n\t\t\treturn ArrayFrom(labels)\n\t\t\t\t.map((element) => {\n\t\t\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t\t\tisEmbeddedInLabel: true,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: true,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.filter((label) => {\n\t\t\t\t\treturn label.length > 0;\n\t\t\t\t})\n\t\t\t\t.join(\" \");\n\t\t}\n\n\t\t// https://w3c.github.io/html-aam/#input-type-image-accessible-name-computation\n\t\t// TODO: wpt test consider label elements but html-aam does not mention them\n\t\t// We follow existing implementations over spec\n\t\tif (isHTMLInputElement(node) && node.type === \"image\") {\n\t\t\tconst nameFromAlt = useAttribute(node, \"alt\");\n\t\t\tif (nameFromAlt !== null) {\n\t\t\t\treturn nameFromAlt;\n\t\t\t}\n\n\t\t\tconst nameFromTitle = useAttribute(node, \"title\");\n\t\t\tif (nameFromTitle !== null) {\n\t\t\t\treturn nameFromTitle;\n\t\t\t}\n\n\t\t\t// TODO: l10n\n\t\t\treturn \"Submit Query\";\n\t\t}\n\n\t\treturn useAttribute(node, \"title\");\n\t}\n\n\tfunction computeTextAlternative(\n\t\tcurrent: Node,\n\t\tcontext: {\n\t\t\tisEmbeddedInLabel: boolean;\n\t\t\tisReferenced: boolean;\n\t\t\trecursion: boolean;\n\t\t}\n\t): string {\n\t\tif (consultedNodes.has(current)) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// 2A\n\t\tif (\n\t\t\t!hidden &&\n\t\t\tisHidden(current, getComputedStyle) &&\n\t\t\t!context.isReferenced\n\t\t) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn \"\" as FlatString;\n\t\t}\n\n\t\t// 2B\n\t\tconst labelElements = queryIdRefs(current, \"aria-labelledby\");\n\t\tif (\n\t\t\tcompute === \"name\" &&\n\t\t\t!context.isReferenced &&\n\t\t\tlabelElements.length > 0\n\t\t) {\n\t\t\treturn labelElements\n\t\t\t\t.map((element) =>\n\t\t\t\t\tcomputeTextAlternative(element, {\n\t\t\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\t\t\tisReferenced: true,\n\t\t\t\t\t\t// thais isn't recursion as specified, otherwise we would skip\n\t\t\t\t\t\t// `aria-label` in\n\t\t\t\t\t\t// <input id=\"myself\" aria-label=\"foo\" aria-labelledby=\"myself\"\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.join(\" \");\n\t\t}\n\n\t\t// 2C\n\t\t// Changed from the spec in anticipation of https://github.com/w3c/accname/issues/64\n\t\t// spec says we should only consider skipping if we have a non-empty label\n\t\tconst skipToStep2E =\n\t\t\tcontext.recursion && isControl(current) && compute === \"name\";\n\t\tif (!skipToStep2E) {\n\t\t\tconst ariaLabel = (\n\t\t\t\t(isElement(current) && current.getAttribute(\"aria-label\")) ||\n\t\t\t\t\"\"\n\t\t\t).trim();\n\t\t\tif (ariaLabel !== \"\" && compute === \"name\") {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\treturn ariaLabel;\n\t\t\t}\n\n\t\t\t// 2D\n\t\t\tif (!isMarkedPresentational(current)) {\n\t\t\t\tconst elementTextAlternative = computeElementTextAlternative(current);\n\t\t\t\tif (elementTextAlternative !== null) {\n\t\t\t\t\tconsultedNodes.add(current);\n\t\t\t\t\treturn elementTextAlternative;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// special casing, cheating to make tests pass\n\t\t// https://github.com/w3c/accname/issues/67\n\t\tif (hasAnyConcreteRoles(current, [\"menu\"])) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// 2E\n\t\tif (skipToStep2E || context.isEmbeddedInLabel || context.isReferenced) {\n\t\t\tif (hasAnyConcreteRoles(current, [\"combobox\", \"listbox\"])) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\tconst selectedOptions = querySelectedOptions(current);\n\t\t\t\tif (selectedOptions.length === 0) {\n\t\t\t\t\t// defined per test `name_heading_combobox`\n\t\t\t\t\treturn isHTMLInputElement(current) ? current.value : \"\";\n\t\t\t\t}\n\t\t\t\treturn ArrayFrom(selectedOptions)\n\t\t\t\t\t.map((selectedOption) => {\n\t\t\t\t\t\treturn computeTextAlternative(selectedOption, {\n\t\t\t\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\t\trecursion: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.join(\" \");\n\t\t\t}\n\t\t\tif (hasAbstractRole(current, \"range\")) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\tif (current.hasAttribute(\"aria-valuetext\")) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard\n\t\t\t\t\treturn current.getAttribute(\"aria-valuetext\")!;\n\t\t\t\t}\n\t\t\t\tif (current.hasAttribute(\"aria-valuenow\")) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard\n\t\t\t\t\treturn current.getAttribute(\"aria-valuenow\")!;\n\t\t\t\t}\n\t\t\t\t// Otherwise, use the value as specified by a host language attribute.\n\t\t\t\treturn current.getAttribute(\"value\") || \"\";\n\t\t\t}\n\t\t\tif (hasAnyConcreteRoles(current, [\"textbox\"])) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\treturn getValueOfTextbox(current);\n\t\t\t}\n\t\t}\n\n\t\t// 2F: https://w3c.github.io/accname/#step2F\n\t\tif (\n\t\t\tallowsNameFromContent(current) ||\n\t\t\t(isElement(current) && context.isReferenced) ||\n\t\t\tisNativeHostLanguageTextAlternativeElement(current) ||\n\t\t\tisDescendantOfNativeHostLanguageTextAlternativeElement(current)\n\t\t) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn computeMiscTextAlternative(current, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t});\n\t\t}\n\n\t\tif (current.nodeType === current.TEXT_NODE) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn current.textContent || \"\";\n\t\t}\n\n\t\tif (context.recursion) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn computeMiscTextAlternative(current, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t});\n\t\t}\n\n\t\tconst tooltipAttributeValue = computeTooltipAttributeValue(current);\n\t\tif (tooltipAttributeValue !== null) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn tooltipAttributeValue;\n\t\t}\n\n\t\t// TODO should this be reachable?\n\t\tconsultedNodes.add(current);\n\t\treturn \"\";\n\t}\n\n\treturn asFlatString(\n\t\tcomputeTextAlternative(root, {\n\t\t\tisEmbeddedInLabel: false,\n\t\t\t// by spec computeAccessibleDescription starts with the referenced elements as roots\n\t\t\tisReferenced: compute === \"description\",\n\t\t\trecursion: false,\n\t\t})\n\t);\n}\n","import {\n\tcomputeTextAlternative,\n\tComputeTextAlternativeOptions,\n} from \"./accessible-name-and-description\";\nimport { hasAnyConcreteRoles } from \"./util\";\n\n/**\n * https://w3c.github.io/aria/#namefromprohibited\n */\nfunction prohibitsNaming(node: Node): boolean {\n\treturn hasAnyConcreteRoles(node, [\n\t\t\"caption\",\n\t\t\"code\",\n\t\t\"deletion\",\n\t\t\"emphasis\",\n\t\t\"generic\",\n\t\t\"insertion\",\n\t\t\"paragraph\",\n\t\t\"presentation\",\n\t\t\"strong\",\n\t\t\"subscript\",\n\t\t\"superscript\",\n\t]);\n}\n\n/**\n * implements https://w3c.github.io/accname/#mapping_additional_nd_name\n * @param root\n * @param options\n * @returns\n */\nexport function computeAccessibleName(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tif (prohibitsNaming(root)) {\n\t\treturn \"\";\n\t}\n\n\treturn computeTextAlternative(root, options);\n}\n","// https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\n/**\n * Safe Element.localName for all supported environments\n * @param element\n */\nexport function getLocalName(element: Element): string {\n\treturn (\n\t\t// eslint-disable-next-line no-restricted-properties -- actual guard for environments without localName\n\t\telement.localName ??\n\t\t// eslint-disable-next-line no-restricted-properties -- required for the fallback\n\t\telement.tagName.toLowerCase()\n\t);\n}\n\nconst localNameToRoleMappings: Record<string, string | undefined> = {\n\tarticle: \"article\",\n\taside: \"complementary\",\n\tbutton: \"button\",\n\tdatalist: \"listbox\",\n\tdd: \"definition\",\n\tdetails: \"group\",\n\tdialog: \"dialog\",\n\tdt: \"term\",\n\tfieldset: \"group\",\n\tfigure: \"figure\",\n\t// WARNING: Only with an accessible name\n\tform: \"form\",\n\tfooter: \"contentinfo\",\n\th1: \"heading\",\n\th2: \"heading\",\n\th3: \"heading\",\n\th4: \"heading\",\n\th5: \"heading\",\n\th6: \"heading\",\n\theader: \"banner\",\n\thr: \"separator\",\n\thtml: \"document\",\n\tlegend: \"legend\",\n\tli: \"listitem\",\n\tmath: \"math\",\n\tmain: \"main\",\n\tmenu: \"list\",\n\tnav: \"navigation\",\n\tol: \"list\",\n\toptgroup: \"group\",\n\t// WARNING: Only in certain context\n\toption: \"option\",\n\toutput: \"status\",\n\tprogress: \"progressbar\",\n\t// WARNING: Only with an accessible name\n\tsection: \"region\",\n\tsummary: \"button\",\n\ttable: \"table\",\n\ttbody: \"rowgroup\",\n\ttextarea: \"textbox\",\n\ttfoot: \"rowgroup\",\n\t// WARNING: Only in certain context\n\ttd: \"cell\",\n\tth: \"columnheader\",\n\tthead: \"rowgroup\",\n\ttr: \"row\",\n\tul: \"list\",\n};\n\nconst prohibitedAttributes: Record<string, Set<string>> = {\n\tcaption: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tcode: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tdeletion: new Set([\"aria-label\", \"aria-labelledby\"]),\n\temphasis: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tgeneric: new Set([\"aria-label\", \"aria-labelledby\", \"aria-roledescription\"]),\n\tinsertion: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tparagraph: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tpresentation: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tstrong: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tsubscript: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tsuperscript: new Set([\"aria-label\", \"aria-labelledby\"]),\n};\n\n/**\n *\n * @param element\n * @param role The role used for this element. This is specified to control whether you want to use the implicit or explicit role.\n */\nfunction hasGlobalAriaAttributes(element: Element, role: string): boolean {\n\t// https://rawgit.com/w3c/aria/stable/#global_states\n\t// commented attributes are deprecated\n\treturn [\n\t\t\"aria-atomic\",\n\t\t\"aria-busy\",\n\t\t\"aria-controls\",\n\t\t\"aria-current\",\n\t\t\"aria-describedby\",\n\t\t\"aria-details\",\n\t\t// \"disabled\",\n\t\t\"aria-dropeffect\",\n\t\t// \"errormessage\",\n\t\t\"aria-flowto\",\n\t\t\"aria-grabbed\",\n\t\t// \"haspopup\",\n\t\t\"aria-hidden\",\n\t\t// \"invalid\",\n\t\t\"aria-keyshortcuts\",\n\t\t\"aria-label\",\n\t\t\"aria-labelledby\",\n\t\t\"aria-live\",\n\t\t\"aria-owns\",\n\t\t\"aria-relevant\",\n\t\t\"aria-roledescription\",\n\t].some((attributeName) => {\n\t\treturn (\n\t\t\telement.hasAttribute(attributeName) &&\n\t\t\t!prohibitedAttributes[role]?.has(attributeName)\n\t\t);\n\t});\n}\n\nfunction ignorePresentationalRole(\n\telement: Element,\n\timplicitRole: string\n): boolean {\n\t// https://rawgit.com/w3c/aria/stable/#conflict_resolution_presentation_none\n\treturn hasGlobalAriaAttributes(element, implicitRole);\n}\n\nexport default function getRole(element: Element): string | null {\n\tconst explicitRole = getExplicitRole(element);\n\tif (explicitRole === null || explicitRole === \"presentation\") {\n\t\tconst implicitRole = getImplicitRole(element);\n\t\tif (\n\t\t\texplicitRole !== \"presentation\" ||\n\t\t\tignorePresentationalRole(element, implicitRole || \"\")\n\t\t) {\n\t\t\treturn implicitRole;\n\t\t}\n\t}\n\n\treturn explicitRole;\n}\n\nfunction getImplicitRole(element: Element): string | null {\n\tconst mappedByTag = localNameToRoleMappings[getLocalName(element)];\n\tif (mappedByTag !== undefined) {\n\t\treturn mappedByTag;\n\t}\n\n\tswitch (getLocalName(element)) {\n\t\tcase \"a\":\n\t\tcase \"area\":\n\t\tcase \"link\":\n\t\t\tif (element.hasAttribute(\"href\")) {\n\t\t\t\treturn \"link\";\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"img\":\n\t\t\tif (\n\t\t\t\telement.getAttribute(\"alt\") === \"\" &&\n\t\t\t\t!ignorePresentationalRole(element, \"img\")\n\t\t\t) {\n\t\t\t\treturn \"presentation\";\n\t\t\t}\n\t\t\treturn \"img\";\n\t\tcase \"input\": {\n\t\t\tconst { type } = element as HTMLInputElement;\n\t\t\tswitch (type) {\n\t\t\t\tcase \"button\":\n\t\t\t\tcase \"image\":\n\t\t\t\tcase \"reset\":\n\t\t\t\tcase \"submit\":\n\t\t\t\t\treturn \"button\";\n\t\t\t\tcase \"checkbox\":\n\t\t\t\tcase \"radio\":\n\t\t\t\t\treturn type;\n\t\t\t\tcase \"range\":\n\t\t\t\t\treturn \"slider\";\n\t\t\t\tcase \"email\":\n\t\t\t\tcase \"tel\":\n\t\t\t\tcase \"text\":\n\t\t\t\tcase \"url\":\n\t\t\t\t\tif (element.hasAttribute(\"list\")) {\n\t\t\t\t\t\treturn \"combobox\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"textbox\";\n\n\t\t\t\tcase \"search\":\n\t\t\t\t\tif (element.hasAttribute(\"list\")) {\n\t\t\t\t\t\treturn \"combobox\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"searchbox\";\n\t\t\t\tcase \"number\":\n\t\t\t\t\treturn \"spinbutton\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tcase \"select\":\n\t\t\tif (\n\t\t\t\telement.hasAttribute(\"multiple\") ||\n\t\t\t\t(element as HTMLSelectElement).size > 1\n\t\t\t) {\n\t\t\t\treturn \"listbox\";\n\t\t\t}\n\t\t\treturn \"combobox\";\n\t}\n\treturn null;\n}\n\nfunction getExplicitRole(element: Element): string | null {\n\tconst role = element.getAttribute(\"role\");\n\tif (role !== null) {\n\t\tconst explicitRole = role.trim().split(\" \")[0];\n\t\t// String.prototype.split(sep, limit) will always return an array with at least one member\n\t\t// as long as limit is either undefined or > 0\n\t\tif (explicitRole.length > 0) {\n\t\t\treturn explicitRole;\n\t\t}\n\t}\n\n\treturn null;\n}\n","export { getLocalName } from \"./getRole\";\nimport getRole, { getLocalName } from \"./getRole\";\n\nexport function isElement(node: Node | null): node is Element {\n\treturn node !== null && node.nodeType === node.ELEMENT_NODE;\n}\n\nexport function isHTMLTableCaptionElement(\n\tnode: Node | null\n): node is HTMLTableCaptionElement {\n\treturn isElement(node) && getLocalName(node) === \"caption\";\n}\n\nexport function isHTMLInputElement(\n\tnode: Node | null\n): node is HTMLInputElement {\n\treturn isElement(node) && getLocalName(node) === \"input\";\n}\n\nexport function isHTMLOptGroupElement(\n\tnode: Node | null\n): node is HTMLOptGroupElement {\n\treturn isElement(node) && getLocalName(node) === \"optgroup\";\n}\n\nexport function isHTMLSelectElement(\n\tnode: Node | null\n): node is HTMLSelectElement {\n\treturn isElement(node) && getLocalName(node) === \"select\";\n}\n\nexport function isHTMLTableElement(\n\tnode: Node | null\n): node is HTMLTableElement {\n\treturn isElement(node) && getLocalName(node) === \"table\";\n}\n\nexport function isHTMLTextAreaElement(\n\tnode: Node | null\n): node is HTMLTextAreaElement {\n\treturn isElement(node) && getLocalName(node) === \"textarea\";\n}\n\nexport function safeWindow(node: Node): Window {\n\tconst { defaultView } =\n\t\tnode.ownerDocument === null ? (node as Document) : node.ownerDocument;\n\n\tif (defaultView === null) {\n\t\tthrow new TypeError(\"no window available\");\n\t}\n\treturn defaultView;\n}\n\nexport function isHTMLFieldSetElement(\n\tnode: Node | null\n): node is HTMLFieldSetElement {\n\treturn isElement(node) && getLocalName(node) === \"fieldset\";\n}\n\nexport function isHTMLLegendElement(\n\tnode: Node | null\n): node is HTMLLegendElement {\n\treturn isElement(node) && getLocalName(node) === \"legend\";\n}\n\nexport function isHTMLSlotElement(node: Node | null): node is HTMLSlotElement {\n\treturn isElement(node) && getLocalName(node) === \"slot\";\n}\n\nexport function isSVGElement(node: Node | null): node is SVGElement {\n\treturn isElement(node) && (node as SVGElement).ownerSVGElement !== undefined;\n}\n\nexport function isSVGSVGElement(node: Node | null): node is SVGSVGElement {\n\treturn isElement(node) && getLocalName(node) === \"svg\";\n}\n\nexport function isSVGTitleElement(node: Node | null): node is SVGTitleElement {\n\treturn isSVGElement(node) && getLocalName(node) === \"title\";\n}\n\n/**\n *\n * @param {Node} node -\n * @param {string} attributeName -\n * @returns {Element[]} -\n */\nexport function queryIdRefs(node: Node, attributeName: string): Element[] {\n\tif (isElement(node) && node.hasAttribute(attributeName)) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute check\n\t\tconst ids = node.getAttribute(attributeName)!.split(\" \");\n\n\t\treturn ids\n\t\t\t.map((id) => node.ownerDocument.getElementById(id))\n\t\t\t.filter(\n\t\t\t\t(element: Element | null): element is Element => element !== null\n\t\t\t\t// TODO: why does this not narrow?\n\t\t\t) as Element[];\n\t}\n\n\treturn [];\n}\n\nexport function hasAnyConcreteRoles(\n\tnode: Node,\n\troles: Array<string | null>\n): node is Element {\n\tif (isElement(node)) {\n\t\treturn roles.indexOf(getRole(node)) !== -1;\n\t}\n\treturn false;\n}\n"],"names":["computeAccessibleDescription","root","options","description","queryIdRefs","map","element","computeTextAlternative","compute","join","title","getAttribute","toStr","Object","prototype","toString","isCallable","fn","call","maxSafeInteger","Math","pow","toLength","value","len","number","Number","isNaN","isFinite","floor","abs","toInteger","min","max","arrayFrom","arrayLike","mapFn","C","Array","items","TypeError","kValue","length","A","k","Set","SetLike","_classCallCheck","_defineProperty","this","has","push","previousLength","filter","item","callbackfn","forEach","_this","indexOf","hasAbstractRole","node","role","isElement","hasAnyConcreteRoles","querySelectorAllSubtree","selectors","elements","ArrayFrom","querySelectorAll","apply","getTextualContent","declaration","content","getPropertyValue","test","slice","isLabelableElement","localName","getLocalName","findLabelableElement","labelableElement","childNodes","childNode","descendantLabelableElement","getControlOfLabel","label","undefined","control","htmlFor","ownerDocument","getElementById","consultedNodes","window","safeWindow","_options$computedStyl","computedStyleSupportsPseudoElements","getComputedStyle","_options$getComputedS","bind","_options$hidden","hidden","computeMiscTextAlternative","context","accumulatedText","beforeContent","isHTMLSlotElement","slot","assignedNodes","getSlotContents","concat","child","result","isEmbeddedInLabel","isReferenced","recursion","separator","afterContent","computeElementTextAlternative","useAttribute","attributeName","attribute","getAttributeNode","trim","add","isHTMLFieldSetElement","children","i","isHTMLLegendElement","isHTMLTableElement","isHTMLTableCaptionElement","isSVGSVGElement","isSVGTitleElement","textContent","nameFromAlt","isHTMLOptGroupElement","nameFromLabel","isHTMLInputElement","type","nameFromValue","labels","labelsProperty","getLabels","nameFromTitle","current","getComputedStyleImplementation","hasAttribute","style","isHidden","labelElements","listbox","skipToStep2E","ariaLabel","isMarkedPresentational","elementTextAlternative","selectedOptions","isHTMLSelectElement","selectedOption","isHTMLTextAreaElement","allowsNameFromContent","isNativeHostLanguageTextAlternativeElement","nodeType","TEXT_NODE","replace","computeAccessibleName","tagName","toLowerCase","localNameToRoleMappings","article","aside","button","datalist","dd","details","dialog","dt","fieldset","figure","form","footer","h1","h2","h3","h4","h5","h6","header","hr","html","legend","li","math","main","menu","nav","ol","optgroup","option","output","progress","section","summary","table","tbody","textarea","tfoot","td","th","thead","tr","ul","prohibitedAttributes","caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript","ignorePresentationalRole","implicitRole","some","_prohibitedAttributes","hasGlobalAriaAttributes","getRole","explicitRole","split","getExplicitRole","mappedByTag","size","getImplicitRole","ELEMENT_NODE","defaultView","ownerSVGElement","isSVGElement","id","roles"],"sourceRoot":""}